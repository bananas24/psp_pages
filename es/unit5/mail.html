<!DOCTYPE html>
<html lang="es-ES">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/psp_pages/psp_favicon.png"><title>5.2 Correo | Programación de Servicios y Procesos</title><meta name="description" content="Módulo PSP de 2º DAM">
    <link rel="modulepreload" href="/psp_pages/assets/app.76d7e669.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html.e4147cc5.js"><link rel="modulepreload" href="/psp_pages/assets/Google-Settings-2.3.7b877edf.js"><link rel="modulepreload" href="/psp_pages/assets/mail.html.a2d4afb5.js"><link rel="prefetch" href="/psp_pages/assets/index.html.126d04d1.js"><link rel="prefetch" href="/psp_pages/assets/test_page.html.4a568a14.js"><link rel="prefetch" href="/psp_pages/assets/index.html.87a51cba.js"><link rel="prefetch" href="/psp_pages/assets/index.html.d9282e30.js"><link rel="prefetch" href="/psp_pages/assets/concurrency.html.a9773ff7.js"><link rel="prefetch" href="/psp_pages/assets/index.html.76cb1e03.js"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html.3b383b5c.js"><link rel="prefetch" href="/psp_pages/assets/process.html.ccddbda9.js"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html.5b95d392.js"><link rel="prefetch" href="/psp_pages/assets/index.html.713d9d95.js"><link rel="prefetch" href="/psp_pages/assets/iostreams.html.0499ab29.js"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html.2ac46f2f.js"><link rel="prefetch" href="/psp_pages/assets/runtime.html.1518979e.js"><link rel="prefetch" href="/psp_pages/assets/alternatives.html.1b039ff6.js"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html.6b773982.js"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html.d8031590.js"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html.1ca45b19.js"><link rel="prefetch" href="/psp_pages/assets/index.html.90dd1516.js"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html.f0b74cf3.js"><link rel="prefetch" href="/psp_pages/assets/runnable.html.940abf8d.js"><link rel="prefetch" href="/psp_pages/assets/synchronization.html.7a373daf.js"><link rel="prefetch" href="/psp_pages/assets/index.html.5a1c957c.js"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html.7bcdd997.js"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html.d7b19f4f.js"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html.60941d4c.js"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html.8815e59f.js"><link rel="prefetch" href="/psp_pages/assets/urls.html.ff638854.js"><link rel="prefetch" href="/psp_pages/assets/index.html.510957d3.js"><link rel="prefetch" href="/psp_pages/assets/mail.html.84b4fcbc.js"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html.f481fb53.js"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html.f2e488c5.js"><link rel="prefetch" href="/psp_pages/assets/index.html.3125dbf0.js"><link rel="prefetch" href="/psp_pages/assets/jsse.html.ea4313fc.js"><link rel="prefetch" href="/psp_pages/assets/security.html.2cfb65ed.js"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html.2bea1717.js"><link rel="prefetch" href="/psp_pages/assets/concurrency.html.2bd7bd3f.js"><link rel="prefetch" href="/psp_pages/assets/index.html.57b7491c.js"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html.c87c3d7d.js"><link rel="prefetch" href="/psp_pages/assets/process.html.d2672a8d.js"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html.ff7b94d1.js"><link rel="prefetch" href="/psp_pages/assets/index.html.5c876409.js"><link rel="prefetch" href="/psp_pages/assets/iostreams.html.ec26c929.js"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html.a8bda9fe.js"><link rel="prefetch" href="/psp_pages/assets/runtime.html.a3b94484.js"><link rel="prefetch" href="/psp_pages/assets/alternatives.html.c19a759a.js"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html.b86b5d95.js"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html.9b023420.js"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html.7b13dc11.js"><link rel="prefetch" href="/psp_pages/assets/index.html.f0f464ca.js"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html.cad4b523.js"><link rel="prefetch" href="/psp_pages/assets/runnable.html.bdf3f987.js"><link rel="prefetch" href="/psp_pages/assets/synchronization.html.61a213aa.js"><link rel="prefetch" href="/psp_pages/assets/index.html.057b8751.js"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html.74f1d9df.js"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html.60d9fa63.js"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html.d3951d43.js"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html.6f4fc277.js"><link rel="prefetch" href="/psp_pages/assets/urls.html.17536de4.js"><link rel="prefetch" href="/psp_pages/assets/index.html.29b33747.js"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html.36b9f5c2.js"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html.ccb792f4.js"><link rel="prefetch" href="/psp_pages/assets/index.html.d1b218e6.js"><link rel="prefetch" href="/psp_pages/assets/jsse.html.b9e92c60.js"><link rel="prefetch" href="/psp_pages/assets/security.html.d9380a55.js"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html.d447e967.js"><link rel="prefetch" href="/psp_pages/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/psp_pages/assets/index.html.019ac815.js"><link rel="prefetch" href="/psp_pages/assets/test_page.html.650c3118.js"><link rel="prefetch" href="/psp_pages/assets/index.html.b1e8f9f4.js"><link rel="prefetch" href="/psp_pages/assets/index.html.13e8f401.js"><link rel="prefetch" href="/psp_pages/assets/concurrency.html.4cbc04e0.js"><link rel="prefetch" href="/psp_pages/assets/index.html.cdc3d076.js"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html.78f6b920.js"><link rel="prefetch" href="/psp_pages/assets/process.html.4bcaafcc.js"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html.4e56cd73.js"><link rel="prefetch" href="/psp_pages/assets/index.html.59b59496.js"><link rel="prefetch" href="/psp_pages/assets/iostreams.html.c413f135.js"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html.d43bc179.js"><link rel="prefetch" href="/psp_pages/assets/runtime.html.0f6100d0.js"><link rel="prefetch" href="/psp_pages/assets/alternatives.html.30112ef5.js"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html.781f0734.js"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html.d23da674.js"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html.adcb8d88.js"><link rel="prefetch" href="/psp_pages/assets/index.html.b10457eb.js"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html.bf6d340c.js"><link rel="prefetch" href="/psp_pages/assets/runnable.html.4f9c508a.js"><link rel="prefetch" href="/psp_pages/assets/synchronization.html.383b3ece.js"><link rel="prefetch" href="/psp_pages/assets/index.html.0ac3f975.js"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html.54e89712.js"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html.02cf26da.js"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html.79f1919c.js"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html.1dc3e8bd.js"><link rel="prefetch" href="/psp_pages/assets/urls.html.816a1df2.js"><link rel="prefetch" href="/psp_pages/assets/index.html.f0dc1081.js"><link rel="prefetch" href="/psp_pages/assets/mail.html.ecd9a1b4.js"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html.c1600f82.js"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html.3bb22050.js"><link rel="prefetch" href="/psp_pages/assets/index.html.950b33ed.js"><link rel="prefetch" href="/psp_pages/assets/jsse.html.ef303342.js"><link rel="prefetch" href="/psp_pages/assets/security.html.4d25af69.js"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html.3af6e9ac.js"><link rel="prefetch" href="/psp_pages/assets/concurrency.html.19d3ed2b.js"><link rel="prefetch" href="/psp_pages/assets/index.html.86464284.js"><link rel="prefetch" href="/psp_pages/assets/operatingsystem.html.af1b78d9.js"><link rel="prefetch" href="/psp_pages/assets/process.html.6fd05c96.js"><link rel="prefetch" href="/psp_pages/assets/curl_annex.html.ec78a884.js"><link rel="prefetch" href="/psp_pages/assets/index.html.5871c460.js"><link rel="prefetch" href="/psp_pages/assets/iostreams.html.d3164cc5.js"><link rel="prefetch" href="/psp_pages/assets/processbuilder.html.6abd443f.js"><link rel="prefetch" href="/psp_pages/assets/runtime.html.ff02aa84.js"><link rel="prefetch" href="/psp_pages/assets/alternatives.html.714d4044.js"><link rel="prefetch" href="/psp_pages/assets/arraylist_annex.html.170d9dc8.js"><link rel="prefetch" href="/psp_pages/assets/debugger_annex.html.f84c8c93.js"><link rel="prefetch" href="/psp_pages/assets/hashmap_annex.html.7c2db836.js"><link rel="prefetch" href="/psp_pages/assets/index.html.a6428d5c.js"><link rel="prefetch" href="/psp_pages/assets/producer-consumer.html.14feb7c5.js"><link rel="prefetch" href="/psp_pages/assets/runnable.html.6679cb46.js"><link rel="prefetch" href="/psp_pages/assets/synchronization.html.6718b184.js"><link rel="prefetch" href="/psp_pages/assets/index.html.1bb10bdb.js"><link rel="prefetch" href="/psp_pages/assets/sockets-tcp.html.c1e7e5f8.js"><link rel="prefetch" href="/psp_pages/assets/sockets-udp.html.6df0ea16.js"><link rel="prefetch" href="/psp_pages/assets/stateful-protocols.html.7da7b51f.js"><link rel="prefetch" href="/psp_pages/assets/tcp-ip.html.1f1a2399.js"><link rel="prefetch" href="/psp_pages/assets/urls.html.1dd38426.js"><link rel="prefetch" href="/psp_pages/assets/index.html.d6fb0323.js"><link rel="prefetch" href="/psp_pages/assets/asymmetric-keys.html.67fd4995.js"><link rel="prefetch" href="/psp_pages/assets/hash-functions.html.5bc283b6.js"><link rel="prefetch" href="/psp_pages/assets/index.html.61edf33b.js"><link rel="prefetch" href="/psp_pages/assets/jsse.html.90dd742d.js"><link rel="prefetch" href="/psp_pages/assets/security.html.5a017e56.js"><link rel="prefetch" href="/psp_pages/assets/symmetric-key.html.6c1f1f72.js"><link rel="prefetch" href="/psp_pages/assets/404.html.783cd77f.js"><link rel="prefetch" href="/psp_pages/assets/CCLicense-component.f6b033fa.js"><link rel="prefetch" href="/psp_pages/assets/DocumentCover-component.790bdee8.js"><link rel="prefetch" href="/psp_pages/assets/DownloadPDF-component.d815a701.js">
    <link rel="stylesheet" href="/psp_pages/assets/style.d83daf06.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="Mostrar/Ocultar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/psp_pages/es/" class=""><img class="logo" src="/psp_pages/LogoIES.png" alt="Programación de Servicios y Procesos"><span class="site-name can-hide">Programación de Servicios y Procesos</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/mail.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Buscar" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a class="external-link" href="https://aules.edu.gva.es/semipresencial/" rel="noopener noreferrer" target="_blank" aria-label="Aules FP Semi"><!--[--><!--]--> Aules FP Semi <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Contenido del curso"><span class="title">Contenido del curso</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit1/" class="" aria-label="Tema 1 - Introducción a la programación concurrente"><!--[--><!--]--> Tema 1 - Introducción a la programación concurrente <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit2/" class="" aria-label="Tema 2 - Programación de procesos en Java"><!--[--><!--]--> Tema 2 - Programación de procesos en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit3/" class="" aria-label="Tema 3 - Programación multihilo en Java"><!--[--><!--]--> Tema 3 - Programación multihilo en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit4/" class="" aria-label="Tema 4 - Programación en red en Java"><!--[--><!--]--> Tema 4 - Programación en red en Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="Tema 5 - Servicios en red"><!--[--><!--]--> Tema 5 - Servicios en red <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Idioma"><span class="title">Idioma</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/psp_pages/en/unit5/mail.html" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Castellano"><!--[--><!--]--> Castellano <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/psp2dam/psp_sources2022" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">Tema 5 - Servicios en red <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/psp_pages/es/unit5/" class="router-link-active sidebar-item" aria-label="5 Introducción"><!--[--><!--]--> 5 Introducción <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="5.2 Correo"><!--[--><!--]--> 5.2 Correo <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-1-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.1 Jakarta Mail"><!--[--><!--]--> 5.2.1 Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#uso-de-la-libreria" class="router-link-active router-link-exact-active sidebar-item" aria-label="Uso de la librería"><!--[--><!--]--> Uso de la librería <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-2-clases-principales-de-la-api-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.2 Clases principales de la API Jakarta Mail"><!--[--><!--]--> 5.2.2 Clases principales de la API Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Session"><!--[--><!--]--> jakarta.mail.Session <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Message"><!--[--><!--]--> jakarta.mail.Message <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Address"><!--[--><!--]--> jakarta.mail.Address <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Authenticator"><!--[--><!--]--> jakarta.mail.Authenticator <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active sidebar-item" aria-label="jakarta.mail.Transport"><!--[--><!--]--> jakarta.mail.Transport <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-3-3-enviar-correos-electronicos-basicos-en-jakarta-mail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.3 3 Enviar correos electrónicos básicos en Jakarta Mail"><!--[--><!--]--> 5.2.3 3 Enviar correos electrónicos básicos en Jakarta Mail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#preparacion-de-la-sesion" class="router-link-active router-link-exact-active sidebar-item" aria-label="Preparación de la sesión"><!--[--><!--]--> Preparación de la sesión <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#composicion-del-mensaje-texto-sin-formato" class="router-link-active router-link-exact-active sidebar-item" aria-label="Composición del mensaje (texto sin formato)"><!--[--><!--]--> Composición del mensaje (texto sin formato) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#send-message" class="router-link-active router-link-exact-active sidebar-item" aria-label="Send message"><!--[--><!--]--> Send message <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-4-send-html-messages" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.4 Send HTML messages"><!--[--><!--]--> 5.2.4 Send HTML messages <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-5-enviar-correo-electronico-con-archivos-adjuntos" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.5 Enviar correo electrónico con archivos adjuntos"><!--[--><!--]--> 5.2.5 Enviar correo electrónico con archivos adjuntos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#enviar-correos-electronicos-html-con-imagenes" class="router-link-active router-link-exact-active sidebar-item" aria-label="Enviar correos electrónicos HTML con imágenes"><!--[--><!--]--> Enviar correos electrónicos HTML con imágenes <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-cid" class="router-link-active router-link-exact-active sidebar-item" aria-label="Insertando imágenes CID"><!--[--><!--]--> Insertando imágenes CID <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-en-linea-base64" class="router-link-active router-link-exact-active sidebar-item" aria-label="Insertando imágenes en línea (Base64)"><!--[--><!--]--> Insertando imágenes en línea (Base64) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active sidebar-item" aria-label="Linked images"><!--[--><!--]--> Linked images <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-7-excepciones-comunes-al-usar-el-correo-de-gmail" class="router-link-active router-link-exact-active sidebar-item" aria-label="5.2.7 Excepciones comunes al usar el correo de Gmail"><!--[--><!--]--> 5.2.7 Excepciones comunes al usar el correo de Gmail <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#verificacion-en-dos-pasos" class="router-link-active router-link-exact-active sidebar-item" aria-label="Verificación en dos pasos"><!--[--><!--]--> Verificación en dos pasos <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#aplicaciones-menos-seguras" class="router-link-active router-link-exact-active sidebar-item" aria-label="Aplicaciones menos seguras"><!--[--><!--]--> Aplicaciones menos seguras <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><div true class="downloadLink" align="right"><a href="/psp_pages/pdf/5.2 Correo.pdf" download><img src="/psp_pages/images/download-pdf.png" title="descarga como PDF" alt="descarga PDF" height="50"></a><a href="/psp_pages/pdf/5.2 Correo.pdf" target="_blank"><img src="/psp_pages/images/open-pdf.png" title="abre como PDF" alt="abre PDF" height="50"></a></div><div true class="documentcover" align="center"><img src="/psp_pages/images/LogoPSP_mini_es.png" alt="PSP Logo"><h1>5.2 Correo</h1><h2></h2><img src="/psp_pages/LogoIES.png" alt="Logo IES Doctor Balmis" style="padding:2cm;"><div true class="cclicense" align="center"><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://psp2dam.github.io/psp_sources/es/">Apuntes de PSP</a> creados por <span property="cc:attributionName">Vicente Martínez</span> bajo licencia <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/deed.es" target="_blank" rel="license noopener noreferrer" style="display:inline-block;"> CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p></div><div class="pagebreak"></div></div><h1 id="_5-2-correo" tabindex="-1">5.2 Correo</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-1-jakarta-mail" class="router-link-active router-link-exact-active">5.2.1 Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#uso-de-la-libreria" class="router-link-active router-link-exact-active">Uso de la librería</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-2-clases-principales-de-la-api-jakarta-mail" class="router-link-active router-link-exact-active">5.2.2 Clases principales de la API Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-session" class="router-link-active router-link-exact-active">jakarta.mail.Session</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-message" class="router-link-active router-link-exact-active">jakarta.mail.Message</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-address" class="router-link-active router-link-exact-active">jakarta.mail.Address</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-authenticator" class="router-link-active router-link-exact-active">jakarta.mail.Authenticator</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#jakarta-mail-transport" class="router-link-active router-link-exact-active">jakarta.mail.Transport</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-3-3-enviar-correos-electronicos-basicos-en-jakarta-mail" class="router-link-active router-link-exact-active">5.2.3 3 Enviar correos electrónicos básicos en Jakarta Mail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#preparacion-de-la-sesion" class="router-link-active router-link-exact-active">Preparación de la sesión</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#composicion-del-mensaje-texto-sin-formato" class="router-link-active router-link-exact-active">Composición del mensaje (texto sin formato)</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#send-message" class="router-link-active router-link-exact-active">Send message</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-4-send-html-messages" class="router-link-active router-link-exact-active">5.2.4 Send HTML messages</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-5-enviar-correo-electronico-con-archivos-adjuntos" class="router-link-active router-link-exact-active">5.2.5 Enviar correo electrónico con archivos adjuntos</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#enviar-correos-electronicos-html-con-imagenes" class="router-link-active router-link-exact-active">Enviar correos electrónicos HTML con imágenes</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-cid" class="router-link-active router-link-exact-active">Insertando imágenes CID</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#insertando-imagenes-en-linea-base64" class="router-link-active router-link-exact-active">Insertando imágenes en línea (Base64)</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#linked-images" class="router-link-active router-link-exact-active">Linked images</a></li></ul></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#_5-2-7-excepciones-comunes-al-usar-el-correo-de-gmail" class="router-link-active router-link-exact-active">5.2.7 Excepciones comunes al usar el correo de Gmail</a><ul><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#verificacion-en-dos-pasos" class="router-link-active router-link-exact-active">Verificación en dos pasos</a></li><li><a aria-current="page" href="/psp_pages/es/unit5/mail.html#aplicaciones-menos-seguras" class="router-link-active router-link-exact-active">Aplicaciones menos seguras</a></li></ul></li></ul></nav><h2 id="_5-2-1-jakarta-mail" tabindex="-1">5.2.1 Jakarta Mail</h2><p>Al buscar en Internet tutoriales sobre el envío de correos electrónicos usando Java, existe una alta probabilidad de que cada uno mencione algo llamado <code>Jakarta Mail</code> o <code>Java Mail</code>.</p><p>Durante mucho tiempo, Java Enterprise Edition (comúnmente conocido como Java EE), ha sido la plataforma de facto para desarrollar aplicaciones de misión crítica.</p><p>Recientemente, con el fin de impulsar la creación de aplicaciones nativas de la nube, varios proveedores de software prominentes se unieron para transferir tecnologías Java EE a la Fundación Eclipse, que es una organización sin fines de lucro encargada de administrar las actividades de la comunidad de software de código abierto Eclipse.</p><blockquote><p><strong>En consecuencia, Java EE ha sido renombrado a Jakarta EE.</strong></p></blockquote><p>A pesar del cambio de nombre, todas las clases principales y definiciones de propiedades siguen siendo las mismas tanto para Jakarta Mail como para JavaMail.</p><div class="custom-container tip"><p class="custom-container-title">Jakarta vs Java Mail</p><p>Para evitar confusiones, es importante tener en cuenta que JavaMail es solo el nombre anterior de Jakarta Mail y los dos representan el mismo software.</p></div><p>Entonces, Jakarta Mail, o JavaMail como a algunos todavía les gusta llamarlo, es una API para enviar y recibir correos electrónicos a través de <strong>SMTP</strong>, <strong>POP3</strong>, así como <strong>IMAP</strong> y es la opción más popular que también admite la autenticación TLS y SSL. Es independiente de la plataforma, independiente del protocolo e integrado en la plataforma Jakarta EE.</p><p>También puede encontrar Jakarta Mail como un paquete opcional para su uso con la plataforma Java SE.</p><h3 id="uso-de-la-libreria" tabindex="-1">Uso de la librería</h3><p>Para empezar a trabajar con Jakarta Mail, primero debe añadir el archivo jakarta.mail.jar en la variable de entorno CLASSPATH. Puede descargar el archivo desde la página <a href="https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release" target="_blank" rel="noopener noreferrer">Jakarta Mail Project<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a>] en GitHub.</p><p>También puede encontrar el archivo jakarta.mail.jar en el repositorio de Maven y agregarlo con dependencias <code>Maven</code>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">groupId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">com.sun.mail</span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">/groupId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">artifactId</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">jakarta.mail</span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">/artifactId</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">version</span><span style="color:#39ADB5;">&gt;</span><span style="color:#90A4AE;">2.0.</span><span style="color:#39ADB5;">1&lt;</span><span style="color:#90A4AE;">/version</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">/dependency</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#90A4AE;">/dependencies</span><span style="color:#39ADB5;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container info"><p class="custom-container-title">nombres de paquetes</p><p>Dentro del código de algunos tutoriales, es posible que vea &#39;javax.mail&#39; en lugar de &#39;jakarta.mail&#39;. Esto no debería preocuparle, ya que es solo la referencia de API utilizada en las dependencias que representan la versión anterior de Jakarta Mail.</p></div><h2 id="_5-2-2-clases-principales-de-la-api-jakarta-mail" tabindex="-1">5.2.2 Clases principales de la API Jakarta Mail</h2><p>La API de correo de Jakarta tiene una amplia gama de clases e interfaces que se pueden usar para enviar, leer y realizar otras acciones con mensajes de correo electrónico, al igual que en un sistema de correo típico.</p><p>Aunque hay varios paquetes en el Proyecto de Correo de Jakarta, dos de los más utilizados son <code>jakarta.mail</code> y <code>jakarta.mail.internet</code>.</p><p>El paquete <strong>jakarta.mail</strong> proporciona clases que modelan un sistema de correo y el paquete <strong>jakarta.mail.internet</strong> proporciona clases que se centran en los sistemas de correo de Internet.</p><p>A continuación tenemos una descripción de las clases principales de cada uno de los paquetes:</p><h3 id="jakarta-mail-session" tabindex="-1">jakarta.mail.Session</h3><p>La clase Session, que no tiene subclases, es la <em>clase de nivel superior de la API de correo de Jakarta</em>. Es un objeto multiproceso que actúa como fábrica de conexiones para la API de correo de Jakarta. además de recopilar las propiedades y los valores predeterminados de la API de correo, <strong>es responsable de los ajustes de configuración y la autenticación</strong>.</p><p>Para obtener el objeto Session, puede llamar a cualquiera de los dos métodos siguientes:</p><ul><li>getDefaultInstance(), que devuelve la sesión predeterminada</li><li>getInstance(), que devuelve una nueva sesión</li></ul><h3 id="jakarta-mail-message" tabindex="-1">jakarta.mail.Message</h3><p>La clase Message es una <em>clase abstracta</em> que modela un mensaje de correo electrónico; Sus subclases soportan las implementaciones reales. Por lo general, su <code>subclase MimeMessage</code> <em>(jakarta.mail.internet.MimeMessage)</em> se utiliza para preparar los detalles del mensaje de correo electrónico que se enviará. <strong>Un MimeMessage es un mensaje de correo electrónico que utiliza el estilo de formato MIME (Multipurpose Internet Mail Extension)</strong> definido en el RFC822.</p><p>Estos son algunos de los métodos más utilizados de la clase MimeMessage:</p><table><thead><tr><th style="text-align:left;">Método</th><th style="text-align:left;">Descripción</th></tr></thead><tbody><tr><td style="text-align:left;">setFrom(Address addresses)</td><td style="text-align:left;">Se utiliza para establecer el campo de encabezado &quot;De&quot;.</td></tr><tr><td style="text-align:left;">setRecipients(Message.RecipientType type, String addresses)</td><td style="text-align:left;">Se utiliza para establecer el tipo de destinatario indicado en las direcciones proporcionadas. Los posibles tipos de direcciones definidos son &quot;Para&quot; (Message.RecipientType.TO), &quot;CC&quot; (Message.RecipientType.CC) y &quot;CCO&quot; (Message.RecipientType.BCC).</td></tr><tr><td style="text-align:left;">setSubject(String subject)</td><td style="text-align:left;">Se utiliza para establecer el campo de encabezado del asunto del correo electrónico.</td></tr><tr><td style="text-align:left;">setText(String text)</td><td style="text-align:left;">Se utiliza para establecer la cadena proporcionada como contenido del correo electrónico, utilizando el tipo MIME de &quot;texto / sin formato&quot;.</td></tr><tr><td style="text-align:left;">setContent(Object message, String contentType)</td><td style="text-align:left;">Se utiliza para establecer el contenido del correo electrónico y se puede utilizar con un tipo MIME que no sea &quot;text/html&quot;.</td></tr></tbody></table><h3 id="jakarta-mail-address" tabindex="-1">jakarta.mail.Address</h3><p>La clase Address es una <em>clase abstracta</em> que modela las direcciones (direcciones To y From) en un mensaje de correo electrónico; Sus subclases soportan las implementaciones reales. Por lo general, su <code>subclase InternetAddress</code>, que denota una dirección de correo electrónico de Internet, es la que mas se usa.</p><h3 id="jakarta-mail-authenticator" tabindex="-1">jakarta.mail.Authenticator</h3><p>La clase Authenticator es una <em>clase abstracta</em> que se utiliza para obtener autenticación para acceder a los recursos del servidor de correo, a menudo requiriendo la información del usuario. Por lo general, su <code>subclase PasswordAuthentication</code> es la que mas se usa.</p><h3 id="jakarta-mail-transport" tabindex="-1">jakarta.mail.Transport</h3><p>La clase Transport es una <em>clase abstracta</em> que utiliza el <code>protocolo SMTP</code> para enviar y transportar mensajes de correo electrónico.</p><h2 id="_5-2-3-3-enviar-correos-electronicos-basicos-en-jakarta-mail" tabindex="-1">5.2.3 3 Enviar correos electrónicos básicos en Jakarta Mail</h2><p>Básicamente, estos son los pasos para enviar un email utilizando la API de correo de Jakarta:</p><ol><li>Configurar detalles del servidor SMTP utilizando un <strong>objeto Java Properties</strong>. Puede obtener detalles del servidor SMTP de su proveedor de servicios de correo electrónico.</li><li>Crear un objeto Session llamando al método getInstance(). Luego, pasar el <code>nombre de usuario y contraseña de la cuenta</code> a PasswordAuthentication. Al crear el objeto de sesión, siempre debe registrar el <em>Authenticator</em> con la sesión.</li><li>Una vez creado el objeto Session, el siguiente paso es crear el email que se enviará. Para ello, empezaremos pasando el objeto de sesión creado al constructor de clase MimeMessage.</li><li>A continuación, después de crear el objeto de mensaje, establecer los campos De, Para y Asunto del email.</li><li>Utilizar el método <code>setText()</code> para establecer el contenido del mensaje de correo electrónico.</li><li>Utilizar el objeto Transport para enviar el correo.</li><li>Agregue excepciones para recuperar los detalles de cualquier posible error al enviar el mensaje.</li></ol><h3 id="preparacion-de-la-sesion" tabindex="-1">Preparación de la sesión</h3><p>El primer paso es obtener el objeto de sesión de correo. La clase <em>Session</em> es una clase singleton. Por lo tanto, no se puede crear directamente una instancia de la misma. Debemos llamar a uno de los métodos estáticos sobrecargados, generalmente <code>getInstance()</code>.</p><div class="custom-container info"><p class="custom-container-title">Archivos/Objetos Properties</p><p>Un archivo de propiedades es un archivo de texto que contiene pares clave-valor para los valores de configuración de un proyecto.</p><p>Se pueden crear sobre la marcha como en los siguientes ejemplos, pero también se puede leer desde un archivo en el proyecto (esta es la forma preferida).</p><p>Aquí puedes encontrar algunos enlaces para echar un vistazo a cómo usar y acceder a estos archivos</p><ul><li><a href="https://www.arquitecturajava.com/java-properties-files-y-como-usarlos/" target="_blank" rel="noopener noreferrer">Java Properties Files y como usarlos - Arquitectura Java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li><li><a href="https://www.baeldung.com/java-properties" target="_blank" rel="noopener noreferrer">Getting started with Java properties - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li><li><a href="https://www.javatpoint.com/properties-class-in-java" target="_blank" rel="noopener noreferrer">Properties class in Java - javaTpoint<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></li></ul><p><img src="/psp_pages/assets/propertiesfile.92a0060c.png" alt="http://www.instanceofjava.com/2018/01/how-to-read-values-from-properties-file.html"></p><p>En la imagen anterior puedes ver dónde colocar el archivo de propiedades en un proyecto &#39;Maven&#39;.</p></div><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare SMTP configuration into a Property object</span></span>
<span class="line"><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">usuario@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">passwordEmail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">smtp.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">587</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.starttls.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// TLS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>En el código anterior, acabamos de crear el objeto Session con propiedades y el objeto Authenticator.</p><p>Las propiedades son las siguientes.</p><ul><li>mail.smtp.username – Nombre de usuario para acceder al servidor SMTP</li><li>mail.smtp.password – Contraseña de acceso al servidor SMTP</li><li>mail.smtp.host – Host del servidor SMTP</li><li>mail.smtp.port – Puerto</li><li>mail.smtp.auth – Se requiere autenticación.</li><li>mail.smtp.starttls.enable – TLS habilitado o no.</li></ul><p>El Authenticator es una clase abstracta. Su objeto se crea proporcionando una implementación anónima del método <code>getPasswordAuthentication()</code>. La clase <em>PasswordAuthentication</em> se utiliza como marcador para almacenar credenciales de usuario.</p><h3 id="composicion-del-mensaje-texto-sin-formato" tabindex="-1">Composición del mensaje (texto sin formato)</h3><p>A continuación, redactaremos el mensaje de correo electrónico. La clase jakarta.mail.Message representa un mensaje en Java mail API. Dado que es una clase abstracta, usaremos su clase de implementación concreta <code>jakarta.mail.internet.MimeMessage</code>. Java Mail API permite enviar correo en texto plano o en contenido HTML. Comencemos enviando un mensaje de texto sin formato.</p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare the MimeMessage</span></span>
<span class="line"><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMessage</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">mailSession</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set From and subject email properties</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setFrom</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">InternetAddress</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">no-reply@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setSubject</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sending Mail with pure Java Mail API </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set to, cc &amp; bcc recipients        </span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> toEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user1@gmail.com, user2@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> ccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user21@gmail.com, user22@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> bccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user31@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            </span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">TO</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">toEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">CC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">ccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">BCC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">bccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">/* Mail body with plain Text */</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Hello User,</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;">\n\n</span><span style="color:#91B859;"> If you read this, means mail sent with Java Mail API is successful</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Para enviar un correo electrónico en texto sin formato, simplemente pasamos el texto en el método message.setText().</strong></p></blockquote><h3 id="send-message" tabindex="-1">Send message</h3><p>Enviar mensaje</p><p>Hasta ahora, hemos creado una sesión y redactado el mensaje. Ahora es el momento de enviar el mensaje a los destinatarios. Usaremos la clase jakarta.mail.Transport para hacerlo. La clase proporciona métodos <code>send()</code> sobrecargados.</p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Send the configured message in the session</span></span>
<span class="line"><span style="color:#90A4AE;">    Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">sendMessage</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-2-4-send-html-messages" tabindex="-1">5.2.4 Send HTML messages</h2><p>Enviar mensajes HTML</p><p>En términos de usabilidad, el contenido HTML es muy superior al texto sin formato. Por lo tanto, la mayoría de las veces enviamos emails en formato HTML. Java Mail API admite el envío de correos electrónicos en formato HTML. Para enviar un correo electrónico con contenido HTML, debemos reemplazar el método message.setText() con el siguiente código.</p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Just discovered that Jakarta Mail is fun and easy to use</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">text/html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>usaremos el método <strong>setContent()</strong> para establecer el contenido y especificar <code>&quot;text/html&quot;</code> en el segundo argumento, lo que indica que el mensaje tiene formato HTML.</p></blockquote><h2 id="_5-2-5-enviar-correo-electronico-con-archivos-adjuntos" tabindex="-1">5.2.5 Enviar correo electrónico con archivos adjuntos</h2><p>Además de los pasos mencionados anteriormente, estos son los diferentes pasos involucrados en el uso de la API de correo de Jakarta para enviar archivos adjuntos de correo electrónico:</p><ol><li>Creamos una instancia del objeto <code>MimeMultipart</code> que se utilizará como envoltorio o <em>wrapper</em> para las distintas partes <em>MimeBodyPart</em>. <strong>Un <em>MultiPart</em> actúa como un contenedor que guarda varias partes individuales</strong>, y viene con métodos para obtener y configurar sus diversas subpartes.</li><li>Luego, establecemos la primera parte del objeto <em>Multipart</em> pasándole el mensaje real.</li><li>A continuación, establecemos la segunda y las siguientes parte del objeto <em>Multipart</em> agregando los datos adjuntos.</li><li>Incluimos el objeto <em>Multipart</em> en el mensaje a enviar.</li><li>Enviamos el mensaje</li></ol><p><img src="/psp_pages/assets/e-mail_multipart_structure.45623ef2.png" alt="Estructura del mensaje MIME Multipart"></p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#39ADB5;"> </span><span style="color:#90A4AE;font-style:italic;">// create an instance of multipart object</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// create the 1st message body part</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add a plain message (HTML can also be added with setContent)</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Please find the attachment sent using Jakarta Mail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd. bodyPart with an attached file</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> filename </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">C:/temp/file1.pdf</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">filename</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="enviar-correos-electronicos-html-con-imagenes" tabindex="-1">Enviar correos electrónicos HTML con imágenes</h2><p>Para agregar una imagen a su correo electrónico HTML en Jakarta Mail, puede elegir cualquiera de las tres opciones comunes:</p><ul><li>Insertando imágenes CID.</li><li>Insertando imágenes en línea o codificación Base64.</li><li>Enlazando imágenes.</li></ul><h3 id="insertando-imagenes-cid" tabindex="-1">Insertando imágenes CID</h3><p>Para insertar imágenes CID, debemos crear un mensaje <code>MIME multipart/related</code> usando el siguiente código:</p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// 1st part of the message. An HTML code with a CID referenced image</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">related</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> htmlPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//add reference to your image to the HTML body &lt;img src=&quot;cid:some-image-cid&quot; alt=&quot;img&quot; /&gt;</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> messageBody </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;p&gt;&lt;/p&gt;&lt;img src=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">cid:my-test-image-cid</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> alt=</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;">embedded img</span><span style="color:#90A4AE;">\&quot;</span><span style="color:#91B859;"> /&gt;&lt;/p&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBody</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">utf-8</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd part of the message. The image with special CID header markers</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> imgPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imageFile is the file containing the image</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// or, if the image is in a byte array in memory, use</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imgPart.setDataHandler(new DataHandler(</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//      new ByteArrayDataSource(bytes, &quot;image/whatever&quot;)));</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContentID</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;my-test-image-cid&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="insertando-imagenes-en-linea-base64" tabindex="-1">Insertando imágenes en línea (Base64)</h3><p>Para la inserción en línea o la codificación Base64, debe incluir los datos de imagen codificados en el cuerpo HTML de forma similar a esta:</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">data:image/jpeg;base64,base64-encoded-data-here</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">tamaño del HTML</p><p>Cada dígito Base64 representa 6 bits de datos, por lo que el código generado para una imagen real será bastante grande.</p><p>Como esto afecta el tamaño total del mensaje HTML, es mejor no usar imágenes grandes en línea.</p></div><p>Para codificar/decodificar una secuencia en Base 64 podemos usar la clase <code>java.util.Base64</code></p><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#9C3EDA;">byte</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> fileContent </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">FileInputStream</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">).</span><span style="color:#6182B8;">readAllBytes</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> base64EncodedData </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Base64</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getEncoder</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">encodeToString</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">fileContent</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Codificación base64</p><p>Base64 es una buena opción para enviar datos binarios a través de protocolos de texto como HTTP, sin pérdida de información.</p><p>Esta operación se puede aplicar a cualquier archivo binario. Es útil cuando necesitamos transferir contenido binario en formato JSON, por ejemplo desde la aplicación móvil al endpoint de conexión REST.</p><p><a href="https://www.baeldung.com/java-base64-image-string" target="_blank" rel="noopener noreferrer">Image to Base64 String Conversion - Baeldung<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a></p></div><h3 id="linked-images" tabindex="-1">Linked images</h3><p>Por último, tenemos imágenes vinculadas que son esencialmente imágenes alojadas en algún servidor externo al que luego crea un enlace. Podemos hacerlo usando la etiqueta img en el cuerpo HTML de la siguiente manera.</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/wp-content/uploads/2018/11/blog/-illustration-email-embedding-images.png</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">alt</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">img</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Debug Jakarta Mail</p><p>La depuración juega un papel fundamental en las pruebas de envío de correo electrónico.</p><p>En Jakarta Mail, es bastante sencillo. Tan solo hay que establecer debug a true en las propiedades de configuración de la sesión:</p><blockquote><p>props.put(&quot;mail.debug&quot;, &quot;true&quot;);</p></blockquote><p>Como resultado, obtendremos una descripción paso a paso de cómo se ejecuta el código. Si aparece algún problema con el envío del mensaje, comprenderemos instantáneamente lo que ha sucedido y en qué paso.</p></div><h2 id="_5-2-7-excepciones-comunes-al-usar-el-correo-de-gmail" tabindex="-1">5.2.7 Excepciones comunes al usar el correo de Gmail</h2><p>Al enviar un correo electrónico con cualquiera de los métodos anteriores, es posible que aparezcan las siguientes excepciones, incluso si las credenciales de Gmail son correctas.</p><div class="custom-container danger"><p class="custom-container-title">Seguridad de Google</p><p>Es importante comprobar la seguridad de tu cuenta. Cambia la siguiente configuración solo si estás absolutamente seguro de lo que estás haciendo.</p><p>No compartas ninguna de las contraseñas porque tu cuenta se puede usar sin tu permiso.</p></div><h3 id="verificacion-en-dos-pasos" tabindex="-1">Verificación en dos pasos</h3><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#9C3EDA;">Error</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> trying to send mail</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">534</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9 Application</span><span style="color:#39ADB5;">-</span><span style="color:#90A4AE;">specific password required</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">534</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=InvalidSecondFactor r10-20020a05600c458a00b003d35acb0fd7sm14828087wmo.34 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">AuthenticationFailedException</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">534</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9 Application</span><span style="color:#39ADB5;">-</span><span style="color:#90A4AE;">specific password required</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">534</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=InvalidSecondFactor r10-20020a05600c458a00b003d35acb0fd7sm14828087wmo.34 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport$Authenticator</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">947</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">858</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">protocolConnect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">762</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">364</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">222</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">171</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send0</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">230</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">100</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>La excepción (jakarta.mail.AuthenticationFailedException) habla de la contraseña específica de la aplicación requerida. Esto se debe a que su cuenta de Gmail está configurada para la verificación de 2 pasos, por lo que su contraseña directa de Gmail no funcionará aquí debido a razones de seguridad. Para rectificar esto, debe seguir los pasos a continuación.</p><ol><li>Inicia sesión con tu cuenta de Google</li><li>Vaya a su cuenta de Google o simplemente haga clic en el enlace <a href="https://myaccount.google.com/?pli=1" target="_blank" rel="noopener noreferrer">Configuración de seguridad de la cuenta de Google<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a><img src="/psp_pages/assets/Google-Settings-1.1.400b652d.png" alt="Configuración de Google"></li><li>Haga clic en Seguridad en el menú de la izquierda.</li><li>Desplácese un poco hacia abajo para llegar a la sección &quot;Iniciar sesión en Google&quot;, probablemente la 3ª sección desde la parte superior.</li><li>Aquí puede ver que la verificación en 2 pasos está activada. <img src="/psp_pages/assets/Google-Settings-1.2.4aa2b066.png" alt="Configuración de Google"></li><li>Haga clic en Contraseñas de aplicaciones justo debajo de ella. Google le pedirá que vuelva a introducir la contraseña.</li><li>En la siguiente pantalla, debe seleccionar la Aplicación y el Dispositivo.</li><li>En el menú desplegable &quot;Seleccionar aplicación&quot;, simplemente seleccione Otro (Nombre personalizado).</li><li>Dé un nombre apropiado como &quot;Web&quot; y presione el botón Generar. <img src="/psp_pages/assets/Google-Settings-1.3.dd1cc175.png" alt="Configuración de Google"></li><li>Aparecerá una contraseña generada en la pantalla con una ventana emergente.</li><li>Guarde y use esta contraseña para todo su código de correo Java.</li></ol><h3 id="aplicaciones-menos-seguras" tabindex="-1">Aplicaciones menos seguras</h3><div class="language-java ext-java line-numbers-mode"><pre class="shiki" style="background-color:#FAFAFA;"><code><span class="line"><span style="color:#9C3EDA;">Error</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> trying to send mail</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">535</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8 </span><span style="color:#9C3EDA;">Username</span><span style="color:#90A4AE;"> and </span><span style="color:#9C3EDA;">Password</span><span style="color:#90A4AE;"> not accepted</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">535</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=BadCredentials o9-20020a05600c510900b003c6f8d30e40sm15602278wms.31 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">AuthenticationFailedException</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">535</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8 </span><span style="color:#9C3EDA;">Username</span><span style="color:#90A4AE;"> and </span><span style="color:#9C3EDA;">Password</span><span style="color:#90A4AE;"> not accepted</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">535</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=BadCredentials o9-20020a05600c510900b003c6f8d30e40sm15602278wms.31 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport$Authenticator</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">947</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">858</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">protocolConnect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">762</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">364</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">222</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">171</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send0</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">230</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">100</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>Inicia sesión con tu cuenta de Google</li><li>Vaya a su cuenta de Google o simplemente haga clic en el enlace <a href="https://www.google.com/settings/security/" target="_blank" rel="noopener noreferrer">Configuración de aplicaciones menos seguras de Google<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">Abrir en una ventana nueva</span></span></a> para avanzar hasta el paso 5. <img src="/psp_pages/assets/Google-Settings-1.1.400b652d.png" alt="Configuración de Google"></li><li>Haga clic en Seguridad en el menú de la izquierda.</li><li>Desplácese un poco hacia abajo para llegar a las &quot;Aplicaciones menos seguras&quot;.</li><li>Lo encontrará desactivado. Ingrese a la sección para activarlo. <img src="/psp_pages/assets/Google-Settings-2.3.97cf0e9b.png" alt="Configuración de Google"></li><li>Guarde y use la contraseña de su cuenta para todo su código de correo Java.</li></ol></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Última actualización: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Editores: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: vicente@iesdoctorbalmis.com">Vicente Martínez</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/psp_pages/es/unit5/" class="router-link-active" aria-label="5 Introducción"><!--[--><!--]--> 5 Introducción <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/psp_pages/assets/app.76d7e669.js" defer></script>
  </body>
</html>
