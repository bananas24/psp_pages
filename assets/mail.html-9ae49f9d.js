import{_ as y,a as i,b as A,c as d,d as m,e as u}from"./Google-Settings-2.3-3be634a5.js";import{_ as h,r as p,o as B,c as g,d as n,a as s,w as l,b as a,e as D,f as t}from"./app-aaf53dea.js";const v={},b=s("h1",{id:"_5-2-mail",tabindex:"-1"},"5.2 Mail",-1),E={class:"table-of-contents"},f=t('<h2 id="_5-2-1-jakarta-mail" tabindex="-1">5.2.1 Jakarta Mail</h2><p>When scouring the Internet for tutorials on sending emails using Java, there is a high chance every single one will mention something called <code>Jakarta Mail</code> or <code>Java Mail</code>.</p><p>For a long time, the Java Enterprise Edition (commonly known as Java EE), has been the de facto platform for developing mission-critical applications.</p><p>Recently, in order to stir the creation of cloud-native applications, several prominent software vendors joined hands to transfer Java EE technologies to the Eclipse Foundation, which is a not-for-profit organization tasked with stewarding the activities of the Eclipse open source software community.</p><blockquote><p><strong>Consequently, the Java EE has been rebranded to Jakarta EE.</strong></p></blockquote><p>In spite of the name change, all the main classes and properties definitions still remain the same for both Jakarta Mail and JavaMail.</p><div class="custom-container tip"><p class="custom-container-title">Jakarta vs Java Mail</p><p>To avoid confusion, it’s important to note that JavaMail is only the former name of Jakarta Mail and the two represent the same software.</p></div><p>So, Jakarta Mail, or JavaMail as some still like to call it, is an API for sending and receiving emails via <strong>SMTP</strong>, <strong>POP3</strong>, as well as <strong>IMAP</strong> and is the most popular option that also supports both TLS and SSL authentication. It is platform-independent, protocol-independent, and built into the Jakarta EE platform.</p><p>You can also find Jakarta Mail as an optional package for use with the Java SE platform.</p><h3 id="library-usage" tabindex="-1">Library usage</h3>',10),w={href:"https://eclipse-ee4j.github.io/mail/#Download_Jakarta_Mail_Release",target:"_blank",rel:"noopener noreferrer"},k=t(`<p>You can also find the jakarta.mail.jar file in the Maven repository and add it to your environment with <code>Maven</code> dependencies:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">dependencies&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">dependency&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">groupId&gt;com.sun.mail&lt;/groupId&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">artifactId&gt;jakarta.mail&lt;/artifactId&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">            </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">version&gt;2.0.1&lt;/version&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">/dependency&gt;</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">&lt;</span><span style="color:#E2931D;">/dependencies&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container info"><p class="custom-container-title">package names</p><p>Within the code in some tutorials, you might see <code>javax.mail</code> instead of <code>jakarta.mail</code>. This shouldn’t worry you, as it’s just the API reference used in dependencies representing the older version of Jakarta Mail.</p></div><h2 id="_5-2-2-jakarta-mail-api-core-classes" tabindex="-1">5.2.2 Jakarta Mail API Core Classes</h2><p>The Jakarta Mail API has a wide range of classes and interfaces that can be used for sending, reading, and performing other actions with email messages—just like in a typical mailing system.</p><p>Although there are several packages in the Jakarta Mail Project, two of the most frequently used ones are <code>jakarta.mail</code> and <code>jakarta.mail.internet</code>.</p><p>The <strong>jakarta.mail</strong> package provides classes that model a mail system and the <strong>jakarta.mail.internet</strong> package provides classes that that are focused to Internet mail systems.</p><p>Here is a description of the core classes in each of the packages:</p><h3 id="jakarta-mail-session" tabindex="-1">jakarta.mail.Session</h3><p>The Session class, which is not subclassed, is the <em>top-level class of the Jakarta Mail API</em>. It’s a multi-threaded object that acts as the connection factory for the Jakarta Mail API. apart from collecting the mail API’s properties and defaults, <strong>it is responsible for configuration settings and authentication</strong>.</p><p>To get the Session object, you can call either of the following two methods:</p><ul><li>getDefaultInstance(), which returns the default session</li><li>getInstance(), which returns a new session</li></ul><h3 id="jakarta-mail-message" tabindex="-1">jakarta.mail.Message</h3><p>The Message class is an <em>abstract class</em> that models an email message; its subclasses support the actual implementations. Usually, its <code>MimeMessage subclass</code> <em>(jakarta.mail.internet.MimeMessage)</em> is used for actually crafting the details of the email message to be sent. <strong>A MimeMessage is an email message that uses the MIME (Multipurpose Internet Mail Extension) formatting style</strong> defined in the RFC822.</p><p>Here are some of the commonly used methods of the MimeMessage class:</p><table><thead><tr><th style="text-align:left;">Method</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;">setFrom(Address addresses)</td><td style="text-align:left;">It’s used to set the “From” header field.</td></tr><tr><td style="text-align:left;">setRecipients(Message.RecipientType type, String addresses)</td><td style="text-align:left;">It’s used to set the stated recipient type to the provided addresses. The possible defined address types are “TO” (Message.RecipientType.TO), “CC” (Message.RecipientType.CC), and “BCC” (Message.RecipientType.BCC).</td></tr><tr><td style="text-align:left;">setSubject(String subject)</td><td style="text-align:left;">It’s used to set the email’s subject header field.</td></tr><tr><td style="text-align:left;">setText(String text)</td><td style="text-align:left;">It’s used to set the provided String as the email’s content, using MIME type of “text/plain”.</td></tr><tr><td style="text-align:left;">setContent(Object message, String contentType)</td><td style="text-align:left;">It’s used to set the email’s content, and can be used with a MIME type other than “text/html”.</td></tr></tbody></table><h3 id="jakarta-mail-address" tabindex="-1">jakarta.mail.Address</h3><p>The Address class is an <em>abstract class</em> that models the addresses (To and From addresses) in an email message; its subclasses support the actual implementations. Usually, its <code>InternetAddress subclass</code>, which denotes an Internet email address, is commonly used.</p><h3 id="jakarta-mail-authenticator" tabindex="-1">jakarta.mail.Authenticator</h3><p>The Authenticator class is an <em>abstract class</em> that is used to get authentication to access the mail server resources—often by requiring the user’s information. Usually, its <code>PasswordAuthentication subclass</code> is commonly used.</p><h3 id="jakarta-mail-transport" tabindex="-1">jakarta.mail.Transport</h3><p>The Transport class is an <em>abstract class</em> that uses the <code>SMTP protocol</code> for submitting and transporting email messages.</p><h2 id="_5-2-3-send-basic-emails-in-jakarta-mail" tabindex="-1">5.2.3 Send basic emails in Jakarta Mail</h2><p>Essentially, here are the steps for sending an email message using the Jakarta Mail API:</p><ol><li>Configure the SMTP server details using a <strong>Java Properties object</strong>. You can get SMTP server details from your email service provider.</li><li>Create a Session object by calling the getInstance() method. Then, pass the <code>account’s username and password</code> to PasswordAuthentication. When creating the session object, you should always register the Authenticator with the Session.</li><li>Once the Session object is created, the next step is to create the email message to be sent. To do this, start by passing the created session object in the MimeMessage class constructor.</li><li>Next, after creating the message object, set the From, To, and Subject fields for the email message.</li><li>Use the setText() method to set the content of the email message.</li><li>Use the Transport object to send the email message.</li><li>Add Exceptions to retrieve the details of any possible errors when sending the message.</li></ol><h3 id="preparing-session" tabindex="-1">Preparing session</h3><p>The very first step is to get the mail session object. The Session class is a singleton class. So you can’t directly create an instance of it. You need to call one of the overloaded static methods, usually <code>getInstance()</code>.</p>`,27),M={class:"custom-container info"},j=s("p",{class:"custom-container-title"},"Properties Files/Objects",-1),_=s("p",null,"A property file is a text file containing key-value pairs for the configuration settings of a project.",-1),T=s("p",null,"It can be created on-the-fly as in the next examples, but it can also be read from a file in the project (this is the preferred way).",-1),x=s("p",null,"Here you can find some links to take a look on how to use and access these files",-1),S={href:"https://www.arquitecturajava.com/java-properties-files-y-como-usarlos/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://www.baeldung.com/java-properties",target:"_blank",rel:"noopener noreferrer"},q={href:"https://www.javatpoint.com/properties-class-in-java",target:"_blank",rel:"noopener noreferrer"},F=s("p",null,[s("img",{src:y,alt:"http://www.instanceofjava.com/2018/01/how-to-read-values-from-properties-file.html"})],-1),C=s("p",null,[a("In the previous image you can see where to place the properties file in a "),s("code",null,"Maven"),a(" project.")],-1),I=t(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare SMTP configuration into a Property object</span></span>
<span class="line"><span style="color:#9C3EDA;">final</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">Properties</span><span style="color:#90A4AE;"> prop </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">Properties</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">usuario@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">passwordEmail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.host</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">smtp.gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.port</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">587</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.auth</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">put</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.starttls.enable</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">true</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;"> </span><span style="color:#90A4AE;font-style:italic;">// TLS</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Create the Session with the user credentials</span></span>
<span class="line"><span style="color:#9C3EDA;">Session</span><span style="color:#90A4AE;"> mailSession </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Session</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getInstance</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">Authenticator</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">@</span><span style="color:#9C3EDA;">Override</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#9C3EDA;">protected</span><span style="color:#90A4AE;"> </span><span style="color:#9C3EDA;">PasswordAuthentication</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">getPasswordAuthentication</span><span style="color:#39ADB5;">()</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">{</span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;font-style:italic;">return</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">PasswordAuthentication</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.username</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">),</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">                    prop</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getProperty</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">mail.smtp.password</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">}</span></span>
<span class="line"><span style="color:#39ADB5;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the above code, we have just created the Session object with properties and the Authenticator object.</p><p>The properties are as follows.</p><ul><li>mail.smtp.username – Username of SMTP server</li><li>mail.smtp.password – Password of SMTP server</li><li>mail.smtp.host – Host of SMTP server</li><li>mail.smtp.port – Port</li><li>mail.smtp.auth – Is Authentication is required.</li><li>mail.smtp.starttls.enable – TLS enable or not.</li></ul><p>The Authenticator is an abstract class. Its object is created by providing an anonymous implementation of getPasswordAuthentication() method. The PasswordAuthentication class is used as a placeholder for storing user credentials.</p><h3 id="message-composition-plain-text" tabindex="-1">Message composition (plain text)</h3><p>Next, we will compose the email message. The jakarta.mail.Message class represents a message in Java mail API. Since it’s an abstract class, we will use its concrete implementation <code>jakarta.mail.internet.MimeMessage</code> class. Java Mail API allows sending mail either in plain text or in HTML content. Let’s start by sending a plain text message.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// Prepare the MimeMessage</span></span>
<span class="line"><span style="color:#9C3EDA;">Message</span><span style="color:#90A4AE;"> message </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMessage</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">mailSession</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set From and subject email properties</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setFrom</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">InternetAddress</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">no-reply@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">));</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setSubject</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Sending Mail with pure Java Mail API </span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Set to, cc &amp; bcc recipients        </span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> toEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user1@gmail.com, user2@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> ccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user21@gmail.com, user22@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">InternetAddress</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> bccEmailAddresses </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        InternetAddress</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">parse</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">user31@gmail.com</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">            </span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">TO</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">toEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">CC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">ccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setRecipients</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Message</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">RecipientType</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">BCC</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;">bccEmailAddresses</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">/* Mail body with plain Text */</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Hello User,</span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#90A4AE;">        </span><span style="color:#39ADB5;">+</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#90A4AE;">\\n\\n</span><span style="color:#91B859;"> If you read this, means mail sent with Java Mail API is successful</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>To send an email in plain text, just pass the text in the message.setText() method.</strong></p></blockquote><h3 id="send-message" tabindex="-1">Send message</h3><p>So far, we created a session and compose the message. Now it’s time to send the message to the recipients. We will use jakarta.mail.Transport class for the same. It provides overloaded <code>send()</code> methods.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">    </span><span style="color:#90A4AE;font-style:italic;">// Send the configured message in the session</span></span>
<span class="line"><span style="color:#90A4AE;">    Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-2-4-send-html-messages" tabindex="-1">5.2.4 Send HTML messages</h2><p>In terms of usability, HTML content is far superior to plain text. So, most of the time, we send emails in HTML content. Java Mail API supports sending emails in HTML content. To send an email with HTML content, you need to replace the message.setText() method with below code.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Just discovered that Jakarta Mail is fun and easy to use</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span></span>
<span class="line"><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">text/html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>we’ll be using the <strong>setContent()</strong> method to set content and specify <code>&quot;text/html”</code> in the second argument, indicating the message has HTML content.</p></blockquote><h2 id="_5-2-5-send-email-with-attachments" tabindex="-1">5.2.5 Send Email with Attachments</h2><p>Apart from the previously mentioned steps, here are the differing steps involved in using the Jakarta Mail API for sending email attachments:</p><ol><li>Create an instance of the <code>MimeMultipart</code> object that will be used for wrapping the MimeBodyPart body parts. <strong>A Multipart acts like a container that keeps multiple body parts</strong>, and it comes with methods for getting and setting its various subparts.</li><li>Then, set the first part of the multipart object by passing the actual message to it.</li><li>Next, set the second and next parts of the multipart object by adding the attachment.</li><li>Include the multipart in the message to be sent.</li><li>Send the message</li></ol><p><img src="`+d+`" alt="Multipart MIME Message structure"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;"> </span><span style="color:#90A4AE;font-style:italic;">// create an instance of multipart object</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// create the 1st message body part</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add a plain message (HTML can also be added with setContent)</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">Please find the attachment sent using Jakarta Mail</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd. bodyPart with an attached file</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> filename </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">C:/temp/file1.pdf</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">filename</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBodyPart</span><span style="color:#39ADB5;">);</span><span style="color:#90A4AE;">            </span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-2-6-send-html-emails-with-images" tabindex="-1">5.2.6 Send HTML emails with images</h2><p>To add an image to your HTML email in Jakarta Mail, you can choose any of the three common options:</p><ul><li>CID image embedding</li><li>inline embedding or Base64 encoding</li><li>linked images.</li></ul><h3 id="cid-image-embedding" tabindex="-1">CID image embedding</h3><p>To do CID image embedding, you need to create a MIME <code>multipart/related</code> message using the following code:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#90A4AE;font-style:italic;">// 1st part of the message. An HTML code with a CID referenced image</span></span>
<span class="line"><span style="color:#9C3EDA;">Multipart</span><span style="color:#90A4AE;"> multipart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeMultipart</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">related</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> htmlPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//add reference to your image to the HTML body &lt;img src=&quot;cid:some-image-cid&quot; alt=&quot;img&quot; /&gt;</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> messageBody </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;p&gt;&lt;/p&gt;&lt;img src=</span><span style="color:#90A4AE;">\\&quot;</span><span style="color:#91B859;">cid:my-test-image-cid</span><span style="color:#90A4AE;">\\&quot;</span><span style="color:#91B859;"> alt=</span><span style="color:#90A4AE;">\\&quot;</span><span style="color:#91B859;">embedded img</span><span style="color:#90A4AE;">\\&quot;</span><span style="color:#91B859;"> /&gt;&lt;/p&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">;</span></span>
<span class="line"><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setText</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">messageBody</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">utf-8</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">,</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">html</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the BodyPart to the Multipart object</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">htmlPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// 2nd part of the message. The image with special CID header markers</span></span>
<span class="line"><span style="color:#9C3EDA;">MimeBodyPart</span><span style="color:#90A4AE;"> imgPart </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">MimeBodyPart</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imageFile is the file containing the image</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">attachFile</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// or, if the image is in a byte array in memory, use</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// imgPart.setDataHandler(new DataHandler(</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">//      new ByteArrayDataSource(bytes, &quot;image/whatever&quot;)));</span></span>
<span class="line"><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContentID</span><span style="color:#39ADB5;">(</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">&lt;my-test-image-cid&gt;</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;">);</span></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">addBodyPart</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imgPart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Add the multipart object to the message</span></span>
<span class="line"><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">setContent</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">multipart</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;font-style:italic;">// Send the message with multipart MIME objects</span></span>
<span class="line"><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">message</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="inline-embedding-base64-encoding" tabindex="-1">Inline embedding (Base64 encoding)</h3><p>For inline embedding or Base64 encoding, you should include the encoded image data in the HTML body similar to this:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">data:image/jpeg;base64,base64-encoded-data-here</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">HTML size</p><p>Each Base64 digit represents 6 bits of data, so your actual image code will be pretty long.</p><p>As this affects the overall size of the HTML message, it’s better not to use inline large images.</p></div><p>To Base 64 encode/decode a stream we can use the <code>java.util.Base64</code> class.</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">byte</span><span style="color:#39ADB5;">[]</span><span style="color:#90A4AE;"> fileContent </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">new</span><span style="color:#90A4AE;"> </span><span style="color:#6182B8;">FileInputStream</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">imageFile</span><span style="color:#39ADB5;">).</span><span style="color:#6182B8;">readAllBytes</span><span style="color:#39ADB5;">();</span></span>
<span class="line"><span style="color:#9C3EDA;">String</span><span style="color:#90A4AE;"> base64EncodedData </span><span style="color:#39ADB5;">=</span><span style="color:#90A4AE;"> Base64</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">getEncoder</span><span style="color:#39ADB5;">().</span><span style="color:#6182B8;">encodeToString</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">fileContent</span><span style="color:#39ADB5;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,33),J={class:"custom-container tip"},L=s("p",{class:"custom-container-title"},"Base64 encoding",-1),H=s("p",null,"Base64 is such a good option to send binary data over text protocols like HTTP without data loose.",-1),G=s("p",null,"This operation could be applied for any binary files or binary arrays. It's useful when we need to transfer binary content in JSON format such as from mobile app to REST endpoint.",-1),R={href:"https://www.baeldung.com/java-base64-image-string",target:"_blank",rel:"noopener noreferrer"},O=t(`<h3 id="linked-images" tabindex="-1">Linked images</h3><p>Lastly, we have linked images that are essentially images hosted on some external server that you then create a link to. You can do that using the img tag in the HTML body like so</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#39ADB5;">&lt;</span><span style="color:#E53935;">img</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">src</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">/wp-content/uploads/2018/11/blog/-illustration-email-embedding-images.png</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> </span><span style="color:#9C3EDA;">alt</span><span style="color:#39ADB5;">=</span><span style="color:#39ADB5;">&quot;</span><span style="color:#91B859;">img</span><span style="color:#39ADB5;">&quot;</span><span style="color:#39ADB5;"> /&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Debug Jakarta Mail</p><p>Debugging plays a critical role in testing of email sending.</p><p>In Jakarta Mail, it’s pretty straightforward. Set debug to true in the properties of your email code:</p><blockquote><p>props.put(&quot;mail.debug&quot;, &quot;true&quot;);</p></blockquote><p>As a result, you will get a step by step description of how your code is executed. If any problem with sending your message appears, you will instantly understand what happened and at which stage.</p></div><h2 id="_5-2-7-common-exceptions-when-using-gmail-smtp" tabindex="-1">5.2.7 Common Exceptions when using Gmail SMTP</h2><p>While sending an email with any of the above methods, you might get the following exceptions, even your Gmail credentials are correct.</p><div class="custom-container danger"><p class="custom-container-title">Google security</p><p>It&#39;s important to check your account security. Change the following settings only if you are absolutely sure of what you are doing.</p><p>Do not share any of the password because your account can be used without your permission.</p></div><h3 id="two-way-authentication" tabindex="-1">Two-way authentication</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Error</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> trying to send mail</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">534</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9 Application</span><span style="color:#39ADB5;">-</span><span style="color:#90A4AE;">specific password required</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">534</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=InvalidSecondFactor r10-20020a05600c458a00b003d35acb0fd7sm14828087wmo.34 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">AuthenticationFailedException</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">534</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9 Application</span><span style="color:#39ADB5;">-</span><span style="color:#90A4AE;">specific password required</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">534</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">9  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=InvalidSecondFactor r10-20020a05600c458a00b003d35acb0fd7sm14828087wmo.34 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport$Authenticator</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">947</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">858</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">protocolConnect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">762</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">364</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">222</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">171</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send0</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">230</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">100</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The exception (jakarta.mail.AuthenticationFailedException) talks about the Application-specific password required. This is because your Gmail account is configured for 2-step verification so your direct Gmail password won’t work here due to security reasons. To rectify this, you need to follow the below steps.</p>`,10),N=s("li",null,"Sign in with your Google account",-1),U={href:"https://myaccount.google.com/?pli=1",target:"_blank",rel:"noopener noreferrer"},Y=s("img",{src:i,alt:"Google settings"},null,-1),V=t('<li>Click on Security from the left menu.</li><li>Scroll a bit down to reach the “Signing in to Google” section – most probably 3rd section from the top.</li><li>Here you can see 2-Step Verification is turned On. <img src="'+m+'" alt="Google settings"></li><li>Click on App Password just below it. Google will ask you to re-enter the password.</li><li>On the next screen, you need to select the App and Device.</li><li>From the “Select app” dropdown, just select Other (Custom name).</li><li>Give an appropriate name like “Web” and press Generate button. <img src="'+u+'" alt="Google settings"></li><li>You will a generated password on the screen with a popup.</li><li>Save and use this password for all your Java mail code.</li>',9),W=t(`<h3 id="less-secure-apps" tabindex="-1">Less secure apps</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="shiki material-theme-lighter" style="background-color:#FAFAFA;" tabindex="0"><code><span class="line"><span style="color:#9C3EDA;">Error</span><span style="color:#90A4AE;"> </span><span style="color:#39ADB5;font-style:italic;">while</span><span style="color:#90A4AE;"> trying to send mail</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">535</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8 </span><span style="color:#9C3EDA;">Username</span><span style="color:#90A4AE;"> and </span><span style="color:#9C3EDA;">Password</span><span style="color:#90A4AE;"> not accepted</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">535</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=BadCredentials o9-20020a05600c510900b003c6f8d30e40sm15602278wms.31 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">AuthenticationFailedException</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">535</span><span style="color:#39ADB5;">-</span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8 </span><span style="color:#9C3EDA;">Username</span><span style="color:#90A4AE;"> and </span><span style="color:#9C3EDA;">Password</span><span style="color:#90A4AE;"> not accepted</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;"> Learn more at</span></span>
<span class="line"><span style="color:#F76D47;">535</span><span style="color:#90A4AE;"> </span><span style="color:#F76D47;">5.7</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">8  https</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#90A4AE;font-style:italic;">//support.google.com/mail/?p=BadCredentials o9-20020a05600c510900b003c6f8d30e40sm15602278wms.31 - gsmtp</span></span>
<span class="line"></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport$Authenticator</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">947</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">authenticate</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">858</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at com</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">sun</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">smtp</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">protocolConnect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">SMTPTransport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">762</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">364</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">222</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">connect</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Service</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">171</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send0</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">230</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    at jakarta</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">mail</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#6182B8;">send</span><span style="color:#39ADB5;">(</span><span style="color:#90A4AE;">Transport</span><span style="color:#39ADB5;">.</span><span style="color:#90A4AE;">java</span><span style="color:#39ADB5;font-style:italic;">:</span><span style="color:#F76D47;">100</span><span style="color:#39ADB5;">)</span></span>
<span class="line"><span style="color:#90A4AE;">    </span><span style="color:#39ADB5;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),z=s("li",null,"Sign in with your Google account",-1),$={href:"https://www.google.com/settings/security/",target:"_blank",rel:"noopener noreferrer"},K=s("img",{src:i,alt:"Google settings"},null,-1),Q=s("li",null,"Click on Security from the left menu.",-1),X=s("li",null,'Scroll a bit down to reach the “Less secure applications".',-1),Z=s("li",null,[a("You will find it disabled. Enter the section to turn it On. "),s("img",{src:A,alt:"Google settings"})],-1),ss=s("li",null,"Save and use your account password for all your Java mail code.",-1);function as(ns,es){const r=p("DownloadPDF-component"),c=p("DocumentCover-component"),e=p("router-link"),o=p("ExternalLinkIcon");return B(),g("div",null,[n(r),n(c,{titulo:"5.2 Mail"}),b,s("nav",E,[s("ul",null,[s("li",null,[n(e,{to:"#_5-2-1-jakarta-mail"},{default:l(()=>[a("5.2.1 Jakarta Mail")]),_:1}),s("ul",null,[s("li",null,[n(e,{to:"#library-usage"},{default:l(()=>[a("Library usage")]),_:1})])])]),s("li",null,[n(e,{to:"#_5-2-2-jakarta-mail-api-core-classes"},{default:l(()=>[a("5.2.2 Jakarta Mail API Core Classes")]),_:1}),s("ul",null,[s("li",null,[n(e,{to:"#jakarta-mail-session"},{default:l(()=>[a("jakarta.mail.Session")]),_:1})]),s("li",null,[n(e,{to:"#jakarta-mail-message"},{default:l(()=>[a("jakarta.mail.Message")]),_:1})]),s("li",null,[n(e,{to:"#jakarta-mail-address"},{default:l(()=>[a("jakarta.mail.Address")]),_:1})]),s("li",null,[n(e,{to:"#jakarta-mail-authenticator"},{default:l(()=>[a("jakarta.mail.Authenticator")]),_:1})]),s("li",null,[n(e,{to:"#jakarta-mail-transport"},{default:l(()=>[a("jakarta.mail.Transport")]),_:1})])])]),s("li",null,[n(e,{to:"#_5-2-3-send-basic-emails-in-jakarta-mail"},{default:l(()=>[a("5.2.3 Send basic emails in Jakarta Mail")]),_:1}),s("ul",null,[s("li",null,[n(e,{to:"#preparing-session"},{default:l(()=>[a("Preparing session")]),_:1})]),s("li",null,[n(e,{to:"#message-composition-plain-text"},{default:l(()=>[a("Message composition (plain text)")]),_:1})]),s("li",null,[n(e,{to:"#send-message"},{default:l(()=>[a("Send message")]),_:1})])])]),s("li",null,[n(e,{to:"#_5-2-4-send-html-messages"},{default:l(()=>[a("5.2.4 Send HTML messages")]),_:1})]),s("li",null,[n(e,{to:"#_5-2-5-send-email-with-attachments"},{default:l(()=>[a("5.2.5 Send Email with Attachments")]),_:1})]),s("li",null,[n(e,{to:"#_5-2-6-send-html-emails-with-images"},{default:l(()=>[a("5.2.6 Send HTML emails with images")]),_:1}),s("ul",null,[s("li",null,[n(e,{to:"#cid-image-embedding"},{default:l(()=>[a("CID image embedding")]),_:1})]),s("li",null,[n(e,{to:"#inline-embedding-base64-encoding"},{default:l(()=>[a("Inline embedding (Base64 encoding)")]),_:1})]),s("li",null,[n(e,{to:"#linked-images"},{default:l(()=>[a("Linked images")]),_:1})])])]),s("li",null,[n(e,{to:"#_5-2-7-common-exceptions-when-using-gmail-smtp"},{default:l(()=>[a("5.2.7 Common Exceptions when using Gmail SMTP")]),_:1}),s("ul",null,[s("li",null,[n(e,{to:"#two-way-authentication"},{default:l(()=>[a("Two-way authentication")]),_:1})]),s("li",null,[n(e,{to:"#less-secure-apps"},{default:l(()=>[a("Less secure apps")]),_:1})])])])])]),f,s("p",null,[a("To start working with Jakarta Mail, first, you should add the jakarta.mail.jar file into your CLASSPATH environment. You can download the file from the "),s("a",w,[a("Jakarta Mail Project"),n(o)]),a("] page on GitHub.")]),k,s("div",M,[j,_,T,x,s("ul",null,[s("li",null,[s("a",S,[a("Java Properties Files y como usarlos - Arquitectura Java"),n(o)])]),s("li",null,[s("a",P,[a("Getting started with Java properties - Baeldung"),n(o)])]),s("li",null,[s("a",q,[a("Properties class in Java - javaTpoint"),n(o)])])]),F,C]),I,s("div",J,[L,H,G,s("p",null,[s("a",R,[a("Image to Base64 String Conversion - Baeldung"),n(o)])])]),O,s("ol",null,[N,s("li",null,[a("Go to your Google account or just click on the link "),s("a",U,[a("Google account security settings"),n(o)]),Y]),V]),W,s("ol",null,[z,s("li",null,[a("Go to your Google account or just click on the link "),s("a",$,[a("Google less secure apps settings"),n(o)]),a(" to advance until step 5. "),K]),Q,X,Z,ss]),D(` References
Jakarta Mail Tutorials
https://mailtrap.io/blog/jakarta-mail-tutorial/
https://mailtrap.io/blog/sending-email-using-java/
https://www.opensource-techblog.com/use-java-mail-api-to-send-email-with-gmail-smtp-example.html

Modify pom.xml to make dependencies be copied along with the jar file
https://www.baeldung.com/executable-jar-with-maven
`)])}const ts=h(v,[["render",as],["__file","mail.html.vue"]]);export{ts as default};
