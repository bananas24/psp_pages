"use strict";(self.webpackChunkapuntes_psp=self.webpackChunkapuntes_psp||[]).push([[1565],{5798:(s,l,e)=>{e.r(l),e.d(l,{data:()=>o});const o={key:"v-02f6ed19",path:"/es/unit6/jsse.html",title:"6.5 Comunicaciones seguras en Java",lang:"es-ES",frontmatter:{title:"6.5 Comunicaciones seguras en Java"},excerpt:"",headers:[{level:2,title:"6.5.1. Protocolo SSL (Secure Sockets Layer)",slug:"_6-5-1-protocolo-ssl-secure-sockets-layer",children:[]},{level:2,title:"6.5.2. JSSE",slug:"_6-5-2-jsse",children:[{level:3,title:"SSLSocket y SSLServerSocket",slug:"sslsocket-y-sslserversocket",children:[]},{level:3,title:"keytool: certificados, confianza y almacenes de claves",slug:"keytool-certificados-confianza-y-almacenes-de-claves",children:[]}]},{level:2,title:"6.5.3. Servidor y Cliente SSL",slug:"_6-5-3-servidor-y-cliente-ssl",children:[]}],filePathRelative:"es/unit6/jsse.md",git:{updatedTime:null,contributors:[]}}},7875:(s,l,e)=>{e.r(l),e.d(l,{default:()=>as});var o=e(6252),n=e(3696);const a=(0,o._)("h1",{id:"_6-5-comunicaciones-seguras-en-java",tabindex:"-1"},"6.5 Comunicaciones seguras en Java",-1),r={class:"table-of-contents"},t=(0,o.Uk)("6.5.1. Protocolo SSL (Secure Sockets Layer)"),c=(0,o.Uk)("6.5.2. JSSE"),_=(0,o.Uk)("SSLSocket y SSLServerSocket"),p=(0,o.Uk)("keytool: certificados, confianza y almacenes de claves"),i=(0,o.Uk)("6.5.3. Servidor y Cliente SSL"),A=(0,o._)("h2",{id:"_6-5-1-protocolo-ssl-secure-sockets-layer",tabindex:"-1"},"6.5.1. Protocolo SSL (Secure Sockets Layer)",-1),y=(0,o._)("p",null,"SSL es el protocolo habitualmente usado para encriptar la comunicación cliente-servidor. Casi todo el tráfico de la red puede encriptarse con SSL: POP, IMAP, telnet, FTP, etc, pero es especialmente interesante para dotar de seguridad al protocolo HTTP, es decir como base del HTTPS.",-1),u=(0,o._)("p",null,[(0,o.Uk)("La implementación de SSL es una extensión de los sockets que permite establecer un canal (stream) de comunicación. Dicha comunicación se inicia con un "),(0,o._)("strong",null,"handshake"),(0,o.Uk)(" durante el cual, el cliente y el servidor construyen una session-key (clave simétrica encriptada con par de claves asimétricas) compartida para verificar su identidad mutua.")],-1),E=(0,o._)("h2",{id:"_6-5-2-jsse",tabindex:"-1"},"6.5.2. JSSE",-1),d=(0,o._)("p",null,"JSSE (Java Secure Socket Extension) es un conjunto de paquetes que permiten el desarrollo de aplicaciones seguras en Internet. Proporciona un marco y una implementación para Java de los protocolos SSL y TSL e incluye funcionalidad de",-1),D=(0,o._)("ul",null,[(0,o._)("li",null,"encriptación de datos"),(0,o._)("li",null,"autenticación de servidores"),(0,o._)("li",null,"integridad de mensajes"),(0,o._)("li",null,"autenticación de clientes")],-1),B=(0,o._)("p",null,"Con JSSE, los programadores pueden ofrecer intercambio seguro de datos entre un cliente y un servidor que ejecuta un protocolo de aplicación, tales como HTTP, Telnet o FTP, a través de TCP/IP.",-1),b=(0,o._)("p",null,"Las clases de JSSE se encuentran en los paquetes javax.net y javax.net.ssl.",-1),S=(0,o._)("h3",{id:"sslsocket-y-sslserversocket",tabindex:"-1"},"SSLSocket y SSLServerSocket",-1),m=(0,o._)("p",null,"Las clases SSLSocket y SSLServerSocket representan sockets seguros y son derivadas de las ya conocidas Socket y ServerSocket respectivamente.",-1),k=(0,o._)("p",null,"JSSE tiene dos clases SSLServerSocketFactory y SSLSocketFactory para la creación de sockets seguros. No tienen constructor, se obtienen a través del método estático getDefault().",-1),f=(0,o._)("p",null,[(0,o.Uk)("Para obtener un socket servidor seguro o "),(0,o._)("em",null,"SSLServerSocket"),(0,o.Uk)(":")],-1),v=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getDefault"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLServerSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," servidorSSL "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLServerSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"createServerSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"puerto"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),U=(0,o._)("p",null,[(0,o.Uk)("El método "),(0,o._)("strong",null,"createServerSocket(int puerto)"),(0,o.Uk)(" devuelve un socket de servidor enlazado al puerto especificado.")],-1),g=(0,o._)("p",null,[(0,o.Uk)("Para crear un "),(0,o._)("em",null,"SSLSocket"),(0,o.Uk)(":")],-1),C=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocketFactory"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," SSLSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getDefault"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," Cliente "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"createSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"Host"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," puerto"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),h=(0,o._)("p",null,"El método createSocket (String host, int puerto) crea un socket y lo conecta con el host y el puerto especificados.",-1),L=(0,o._)("h3",{id:"keytool-certificados-confianza-y-almacenes-de-claves",tabindex:"-1"},"keytool: certificados, confianza y almacenes de claves",-1),j=(0,o._)("p",null,'Cuando dos socket SSL, uno cliente y otro servidor, intentan establecer conexión, tienen que "presentarse" el uno al otro y comprobar que el otro es de confianza. Si todo va bien y uno confía en l otro, la conexión se establece, en caso contrario, no se establece.',-1),F=(0,o._)("p",null,"Para establecer esa confianza se debe crear un certificado en el servidor y añadirlo a los certificados de confianza del cliente.",-1),P=(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Uk)("El servidor debe tener su propio certificado. Si no lo tenemos, se puede generar primero una pareja de claves con la herramienta "),(0,o._)("strong",null,"keytool"),(0,o.Uk)(", que viene incluida en el JDK de Java. La herramienta guardará la pareja de claves en un almacén (el cual tiene su propia clave).")]),(0,o._)("li",null,"Después generaremos un certificado a partir de esa pareja."),(0,o._)("li",null,"El código del servidor necesitará indicar el fichero donde se almacenan las claves y la clave para acceder a ese almacén."),(0,o._)("li",null,"El cliente necesitará indicar que confía en el certificado del servidor. Dicho certificado del servidor puede estar guardado (por ejemplo) en el almacén de claves del cliente.")],-1),I=(0,o._)("div",{class:"custom-container info"},[(0,o._)("p",{class:"custom-container-title"},"Seguridad mutua"),(0,o._)("p",null,"Aunque no suele hacerse también podría hacerse a la inversa y obligar al cliente a tener un certificado que el servidor pudiera importar, lo que aumentaría la seguridad.")],-1),x=(0,o._)("p",null,[(0,o.Uk)("Vamos a ver cómo realizar estas operaciones previas con la herramienta "),(0,o._)("strong",null,"keytool")],-1),w=(0,o._)("p",null,"Primero las acciones a realizar en el servidor",-1),T=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# El servidor genera una pareja de claves que se almacena en un")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},'# fichero llamado "clavesservidor". Dentro del fichero se indica')]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# un alias para poder referirnos a esa clave fácilmente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# keytool -genkey -keyalg RSA -alias servidor -keystore ClavesServidor -storepass 12345678")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"C:/Program Files/Java/jdk-11.0.11/bin/keytool.exe"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," -genkey -keyalg RSA -alias servidor -keystore ClavesServidor -storepass 12345678")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is your first and last name"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  Vicente Martinez")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is the name of your organizational unit"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  Dpto. Informatica")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is the name of your organization"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  IES Doctor Balmis")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is the name of your City or Locality"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  Alicante")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is the name of your State or Province"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  Alicante")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"What is the two-letter country code "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"for"),(0,o._)("span",{style:{color:"#90A4AE"}}," this unit"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"Unknown"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  ES")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Is CN=Vicente Martinez, OU=Dpto. Informatica, O=IES Doctor Balmis, L=Alicante, ST=Alicante, C=ES correct"),(0,o._)("span",{style:{color:"#39ADB5"}},"?")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"  "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"no"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},": yes")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},'# El servidor genera su "certificado", es decir un fichero que')]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# de alguna forma indica quien es él. El certificado se almacena")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# en un fichero llamado clavesservidor y a partir de él queremos")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# generar el certificado de un alias creado previamente con nombre servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# keytool -exportcert -alias servidor -file servidor.cer -keystore ClavesServidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"C:/Program Files/Java/jdk-11.0.11/bin/keytool.exe"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," -exportcert -alias servidor -file servidor.cer -keystore ClavesServidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Enter keystore password:")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Certificate stored "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"in"),(0,o._)("span",{style:{color:"#90A4AE"}}," file "),(0,o._)("span",{style:{color:"#39ADB5"}},"<"),(0,o._)("span",{style:{color:"#90A4AE"}},"servidor.cer"),(0,o._)("span",{style:{color:"#39ADB5"}},">")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),O=(0,o._)("p",null,[(0,o.Uk)("En la carpeta donde hemos ejecutado el comando keytool, se ha creado el almacén de claves en un fichero llamado "),(0,o._)("strong",null,"ClavesServidor"),(0,o.Uk)(" y el certificado exportado en el archivo "),(0,o._)("strong",null,"servidor.cer")],-1),z=(0,o._)("p",null,"y a continuación las que habría que realizar en el cliente para generar el almacén de confianza que, en nuestro caso contenga el mismo certificado que hemos exportado del servidor.",-1),R=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# Se importa el certificado del servidor indicando que pertenece a")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# la lista de certificados confiables.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"# keytool -importcert -trustcacerts -alias servidor -file servidor.cer -keystore clavescliente  -storepass 87654321")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"C:/Program Files/Java/jdk-11.0.11/bin/keytool.exe"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," -importcert -trustcacerts -alias servidor -file servidor.cer -keystore CertificadosConfianzaCliente -storepass 87654321")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Owner: CN=Vicente Martinez, OU=Dpto. Informatica, O=IES Doctor Balmis, L=Alicante, ST=Alicante, C=ES")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Issuer: CN=Vicente Martinez, OU=Dpto. Informatica, O=IES Doctor Balmis, L=Alicante, ST=Alicante, C=ES")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Serial number: 4eb6f2a5")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Valid from: Mon Jan 24 00:20:24 CET 2022 until: Sun Apr 24 01:20:24 CEST 2022")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Certificate fingerprints:")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"         SHA1: DD:A2:75:4C:1C:BC:39:60:BE:B1:20:67:E1:5C:45:8C:48:B5:1F:54")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"         SHA256: 82:C8:56:C2:DB:DE:8C:73:A9:21:C6:7D:DE:1F:39:4F:79:CC:5F:D5:10:BC:61:DA:E3:EE:E1:1D:21:EA:D2:33")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Signature algorithm name: SHA256withRSA")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Subject Public Key Algorithm: 2048-bit RSA key")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Version: 3")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Extensions:")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"#1: ObjectId: 2.5.29.14 Criticality=false")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"SubjectKeyIdentifier "),(0,o._)("span",{style:{color:"#39ADB5"}},"[")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"KeyIdentifier "),(0,o._)("span",{style:{color:"#39ADB5"}},"[")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"0000: 16 AE 35 7C 58 97 B1 95   91 9B FA 6C 2A 80 D2 90  ..5.X......l"),(0,o._)("span",{style:{color:"#39ADB5"}},"*"),(0,o._)("span",{style:{color:"#90A4AE"}},"...")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"0010: 1C 50 7F C0                                        .P..")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"]")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"]")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Trust this certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"?"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#90A4AE"}},"no"),(0,o._)("span",{style:{color:"#39ADB5"}},"]"),(0,o._)("span",{style:{color:"#90A4AE"}},":  yes")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Certificate was added to keystore")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),q=(0,o._)("p",null,[(0,o.Uk)("En esta ocasión también se crea, en la carpeta donde se ha ejecutado el comando keytool, un fichero "),(0,o._)("strong",null,"CertificadosConfianzaCliente"),(0,o.Uk)(" con el/los certificados de confianza para el cliente.")],-1),J=(0,o._)("h2",{id:"_6-5-3-servidor-y-cliente-ssl",tabindex:"-1"},"6.5.3. Servidor y Cliente SSL",-1),N=(0,o._)("p",null,"En le siguiente ejemplo podemos observar como la inicialización del ServerSocket es diferente, pero a partir de que se llama al método accept y, en este caso se obtiene una instancia de tipo SSLSocket, el resto del código es igual que con la clase Socket.",-1),V=(0,o._)("div",{class:"language-java ext-java line-numbers-mode"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"class"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"U6S2_SSLServer"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"static"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"void"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"main"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," arg"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"throws"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," clienteConectado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"DataInputStream"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoEntrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//FLUJO DE ENTRADA DE CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"DataOutputStream"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoSalida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//FLUJO DE SALIDA AL CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Las propiedades se pueden especificar mediante código, o bien mediante")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// argumentos de la JVM en la llamada a la aplicación")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},'// System.setProperty("javax.net.ssl.keyStore", System.getProperty("user.dir") + "\\\\ClavesServidor");')]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},'// System.setProperty("javax.net.ssl.keyStorePassword", "12345678");')]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Inicialización del ServerSocket SSL")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"int"),(0,o._)("span",{style:{color:"#90A4AE"}}," puerto "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#F76D47"}},"6000"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," SSLServerSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getDefault"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLServerSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," servidorSSL "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLServerSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"createServerSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"puerto"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"for"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"int"),(0,o._)("span",{style:{color:"#90A4AE"}}," i "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#F76D47"}},"1"),(0,o._)("span",{style:{color:"#39ADB5"}},";"),(0,o._)("span",{style:{color:"#90A4AE"}}," i "),(0,o._)("span",{style:{color:"#39ADB5"}},"<"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#F76D47"}},"5"),(0,o._)("span",{style:{color:"#39ADB5"}},";"),(0,o._)("span",{style:{color:"#90A4AE"}}," i"),(0,o._)("span",{style:{color:"#39ADB5"}},"++)"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Esperando al cliente "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," i"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Se espera la conexión de un cliente con accept")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            clienteConectado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," servidorSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"accept"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Trabajamos do DataInputStream y DataOutputStream para simplificar")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el código del ejemplo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            flujoEntrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"DataInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"clienteConectado"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            flujoSalida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"DataOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"clienteConectado"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// El cliente envía un mensaje")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Recibiendo del CLIENTE: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," i "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}}," "),(0,o._)("span",{style:{color:"#90A4AE"}},"\\n\\t"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoEntrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readUTF"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// El Servidor responde con un saludo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            flujoSalida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"writeUTF"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"SaIudos al cliente del servidor"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// CERRAR STREAMS Y SOCKETS")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoEntrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoSalida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        clienteConectado"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        servidorSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")]),(0,o._)("div",{class:"line-numbers"},[(0,o._)("span",{class:"line-number"},"1"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"2"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"3"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"4"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"5"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"6"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"7"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"8"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"9"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"10"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"11"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"12"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"13"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"14"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"15"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"16"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"17"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"18"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"19"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"20"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"21"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"22"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"23"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"24"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"25"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"26"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"27"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"28"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"29"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"30"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"31"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"32"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"33"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"34"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"35"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"36"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"37"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"38"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"39"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"40"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"41"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"42"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"43"),(0,o._)("br")])],-1),M=(0,o._)("p",null,"En el cliente el proceso es el mismo, tras la llamada al método createSocket, obtenemos una instancia de SSLSocket que utilizamos igual que si fuese un Socket.",-1),W=(0,o._)("div",{class:"language-java ext-java line-numbers-mode"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"class"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"U6S2_SSLClient"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"static"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"void"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"main"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," arg"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"throws"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," clienteSSL "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"DataInputStream"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoEntrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//FLUJO DE ENTRADA DE CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"DataOutputStream"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoSalida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//FLUJO DE SALIDA AL CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Las propiedades se pueden especificar mediante código, o bien mediante")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// argumentos de la JVM en la llamada a la aplicación")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},'// System.setProperty("javax.net.ssl.trustStore", System.getProperty("user.dir") + "/CertificadosConfianzaCliente");')]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"setProperty"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"javax.net.ssl.trustStore"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"CertificadosConfianzaCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"setProperty"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"javax.net.ssl.trustStorePassword"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"87654321"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Inicialización del ServerSocket SSL")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"int"),(0,o._)("span",{style:{color:"#90A4AE"}}," puerto "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#F76D47"}},"6000"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#90A4AE"}}," host "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"localhost"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Programa Cliente iniciado...."),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocketFactory"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," SSLSocketFactory"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getDefault"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        clienteSSL "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," sfact"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"createSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"host"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," puerto"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Trabajamos do DataInputStream y DataOutputStream para simplificar")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el código del ejemplo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoSalida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"DataOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"clienteSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoEntrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"DataInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"clienteSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Envío un saludo al servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoSalida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"writeUTF"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Saludos al SERVIDOR DESDE EL CLIENTE"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// El Servidor responde con un mensaje")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Recibiendo del SERVIDOR: "),(0,o._)("span",{style:{color:"#90A4AE"}},"\\n\\t"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," flujoEntrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readUTF"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// CERRAR STREAMS Y SOCKETS")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoEntrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        flujoSalida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        clienteSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"void"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"mostrarInformacionSesionSSL"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSocket"),(0,o._)("span",{style:{color:"#90A4AE"}}," cliente"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"throws"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLPeerUnverifiedException"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//------------------------------------------------------------------------------")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//Ejemplo de la múltiple información sobre la sesión SSL")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// que se puede obtener a partir ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"SSLSession"),(0,o._)("span",{style:{color:"#90A4AE"}}," session "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"(("),(0,o._)("span",{style:{color:"#90A4AE"}},"SSLSocket"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," cliente"),(0,o._)("span",{style:{color:"#39ADB5"}},")."),(0,o._)("span",{style:{color:"#6182B8"}},"getSession"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Host: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getPeerHost"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Cifrado: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getCipherSuite"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Protocolo: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getProtocol"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"IDentificador:"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"BigInteger"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getId"),(0,o._)("span",{style:{color:"#39ADB5"}},"()));")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Creación de la sesión: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getCreationTime"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"X509Certificate"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"X509Certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," session"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getPeerCertificates"),(0,o._)("span",{style:{color:"#39ADB5"}},"()["),(0,o._)("span",{style:{color:"#F76D47"}},"0"),(0,o._)("span",{style:{color:"#39ADB5"}},"];")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Propietario: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getSubjectDN"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Algoritmo: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getSigAlgName"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Tipo: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getType"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Emisor: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getIssuerDN"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Número Serie: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," certificate"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getSerialNumber"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"//-----------------------------------------------------------------------------")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")]),(0,o._)("div",{class:"line-numbers"},[(0,o._)("span",{class:"line-number"},"1"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"2"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"3"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"4"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"5"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"6"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"7"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"8"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"9"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"10"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"11"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"12"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"13"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"14"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"15"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"16"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"17"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"18"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"19"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"20"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"21"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"22"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"23"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"24"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"25"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"26"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"27"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"28"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"29"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"30"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"31"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"32"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"33"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"34"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"35"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"36"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"37"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"38"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"39"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"40"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"41"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"42"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"43"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"44"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"45"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"46"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"47"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"48"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"49"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"50"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"51"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"52"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"53"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"54"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"55"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"56"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"57"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"58"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"59"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"60"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"61"),(0,o._)("br")])],-1),H=(0,o._)("p",null,"Si ejecutamos el cliente y el servidor directamente, obtendremos el siguiente error",-1),K=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Programa Cliente iniciado....")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Exception "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"in"),(0,o._)("span",{style:{color:"#90A4AE"}}," thread "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"main"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),Y=(0,o._)("p",null,"Para ejecutar el programa servidor es necesario indicar el certificado que se utilizará.",-1),X=(0,o._)("p",null,"Lo podemos indicar a la hora de ejecutar el programa, añadiendo a la línea de comandos",-1),G=(0,o._)("blockquote",null,[(0,o._)("p",null,"java -Djavax.net.ssl.keyStore=ClavesServidor -Djavax.net.ssl.keyStorePassword=12345678")],-1),$=(0,o._)("p",null,"y en el programa cliente es necesario indicar la ubicación de los certificados de confianza",-1),Q=(0,o._)("blockquote",null,[(0,o._)("p",null,"java -Djavax.net.ssl.trustStore=CertificadosConfianzaCliente -Djavax.net.ssl.trustStorePassword=87654321")],-1),Z=(0,o._)("p",null,[(0,o._)("img",{src:n,alt:"Netbeans: Opciones de la JVM"})],-1),ss=(0,o._)("div",{class:"custom-container info"},[(0,o._)("p",{class:"custom-container-title"},"Parámetros de JVM o código"),(0,o._)("p",null,"En el código anterior hay unas líneas comentadas que especifican cómo podemos configurar el valor de las propiedades desde código mediante el uso del método System.setProperty(String propiedad, String valor)."),(0,o._)("p",null,"En el programa servidor incluiríamos las siguientes líneas:"),(0,o._)("p",null,'System.setProperty("javax.net.ssl.keyStore", "ClavesServidor"); System.setProperty("javax.net.ssl.keyStorePassword", "12345678");'),(0,o._)("p",null,"Y en el programa cliente serían estas:"),(0,o._)("p",null,'System.setProperty("javax.net.ssl.trustStore", "CertificadosConfianzaCliente"); System.setProperty("javax.net.ssl.trustStorePassword", "87654321");'),(0,o._)("p",null,"Además del nombre, podemos indicar la ruta donde se encuentran los almacenes, recordando que NO ES RECOMENDABLE el uso de barras invertidas para indicar rutas.")],-1),ls=(0,o._)("p",null,"Una vez hechos los cambios, bien en las opciones de la JVM o bien en el código de las aplicaciones, la salida que obtendremos será esta",-1),es=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Esperando al cliente 1")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Recibiendo del CLIENTE: 1 ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"\tSaludos al SERVIDOR DESDE EL CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Esperando al cliente 2")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Recibiendo del CLIENTE: 2 ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"\tSaludos al SERVIDOR DESDE EL CLIENTE")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Esperando al cliente 3")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),os=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Programa Cliente iniciado....")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"Recibiendo del SERVIDOR: ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"\tSaIudos al cliente del servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),ns=(0,o._)("div",{class:"custom-container warning"},[(0,o._)("p",{class:"custom-container-title"},"Default trusted certificates"),(0,o._)("p",null,"Whenever Java attempts to connect to another application over SSL (e.g.: HTTPS, IMAPS, LDAPS), it will only be able to connect to that application if it can trust it. The way trust is handled in the Java world is that you have a keystore (typically $JAVA_HOME/lib/security/cacerts), also known as the truststore. This contains a list of all known Certificate Authority (CA) certificates, and Java will only trust certificates that are signed by one of those CAs or public certificates that exist within that keystore."),(0,o._)("p",null,"If -Djavax.net.ssl.trustStore has been configured, it will override the location of the default truststore, which will need to be checked.")],-1),as={render:function(s,l){const e=(0,o.up)("DownloadPDF-component"),n=(0,o.up)("DocumentCover-component"),as=(0,o.up)("RouterLink"),rs=(0,o.up)("CodeGroupItem"),ts=(0,o.up)("CodeGroup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(e),(0,o.Wm)(n,{titulo:"6.5 Comunicaciones seguras en Java"}),a,(0,o._)("nav",r,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(as,{to:"#_6-5-1-protocolo-ssl-secure-sockets-layer"},{default:(0,o.w5)((()=>[t])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(as,{to:"#_6-5-2-jsse"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(as,{to:"#sslsocket-y-sslserversocket"},{default:(0,o.w5)((()=>[_])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(as,{to:"#keytool-certificados-confianza-y-almacenes-de-claves"},{default:(0,o.w5)((()=>[p])),_:1})])])]),(0,o._)("li",null,[(0,o.Wm)(as,{to:"#_6-5-3-servidor-y-cliente-ssl"},{default:(0,o.w5)((()=>[i])),_:1})])])]),A,y,u,E,d,D,B,b,S,m,k,f,v,U,g,C,h,L,j,F,P,I,x,w,T,O,z,R,q,J,N,V,M,W,H,K,Y,X,G,$,Q,Z,ss,ls,(0,o.Wm)(ts,null,{default:(0,o.w5)((()=>[(0,o.Wm)(rs,{title:"Servidor",active:""},{default:(0,o.w5)((()=>[es])),_:1}),(0,o.Wm)(rs,{title:"Cliente"},{default:(0,o.w5)((()=>[os])),_:1})])),_:1}),ns],64)}}},3696:(s,l,e)=>{s.exports=e.p+"assets/img/VM_Options.d6ee9915.png"}}]);