"use strict";(self.webpackChunkapuntes_psp=self.webpackChunkapuntes_psp||[]).push([[8474],{858:(s,l,e)=>{e.r(l),e.d(l,{data:()=>o});const o={key:"v-17f557b3",path:"/en/unit4/stateful-protocols.html",title:"4.5 Stateful protocols",lang:"en-US",frontmatter:{title:"4.5 Stateful protocols"},excerpt:"",headers:[{level:2,title:"4.5.1. Stateful and stateless protocols",slug:"_4-5-1-stateful-and-stateless-protocols",children:[{level:3,title:"Stateless protocols",slug:"stateless-protocols",children:[]},{level:3,title:"Stateful protocols",slug:"stateful-protocols",children:[]}]},{level:2,title:"4.5.2 Programación de servidores basados en estados",slug:"_4-5-2-programacion-de-servidores-basados-en-estados",children:[{level:3,title:"Programación de aplicaciones Cliente y/o Servidor",slug:"programacion-de-aplicaciones-cliente-y-o-servidor",children:[]}]},{level:2,title:"4.5.3. Ejemplo de servidor con estados",slug:"_4-5-3-ejemplo-de-servidor-con-estados",children:[{level:3,title:"Ejemplo del Worker que implementa el protocolo",slug:"ejemplo-del-worker-que-implementa-el-protocolo",children:[]}]},{level:2,title:"4.5.4. Ejemplo de cliente con estados",slug:"_4-5-4-ejemplo-de-cliente-con-estados",children:[{level:3,title:'Ejemplo de cliente "genérico" que implementa el protocolo',slug:"ejemplo-de-cliente-generico-que-implementa-el-protocolo",children:[]}]}],filePathRelative:"en/unit4/stateful-protocols.md",git:{updatedTime:1642385249e3,contributors:[{name:"Vicente Martínez",email:"vicente@iesdoctorbalmis.com",commits:1}]}}},3415:(s,l,e)=>{e.r(l),e.d(l,{default:()=>Ss});var o=e(6252),n=e(7979),a=e(5206);const r=(0,o._)("h1",{id:"_4-5-stateful-protocols",tabindex:"-1"},"4.5 Stateful protocols",-1),t={class:"table-of-contents"},c=(0,o.Uk)("4.5.1. Stateful and stateless protocols"),_=(0,o.Uk)("Stateless protocols"),p=(0,o.Uk)("Stateful protocols"),i=(0,o.Uk)("4.5.2 Programación de servidores basados en estados"),A=(0,o.Uk)("Programación de aplicaciones Cliente y/o Servidor"),y=(0,o.Uk)("4.5.3. Ejemplo de servidor con estados"),u=(0,o.Uk)("Ejemplo del Worker que implementa el protocolo"),d=(0,o.Uk)("4.5.4. Ejemplo de cliente con estados"),b=(0,o.Uk)('Ejemplo de cliente "genérico" que implementa el protocolo'),m=(0,o._)("h2",{id:"_4-5-1-stateful-and-stateless-protocols",tabindex:"-1"},"4.5.1. Stateful and stateless protocols",-1),B=(0,o._)("p",null,"Como ya hemos comentado anteriormente, un protocolo, aplicado al mundo de las comunicaciones informáticas, es un conjunto de reglas que especifican la manera en la que se realiza la comunicación entre dos interlocutores.",-1),D=(0,o._)("p",null,[(0,o.Uk)("Este conjunto de reglas establece el formato de los mensajes que se intercambian "),(0,o._)("code",null,"(texto, binario, JSON, XML, CSV, ...)"),(0,o.Uk)(", las acciones que cada uno de los extremos de la comunicación deben realizar en cada momento "),(0,o._)("code",null,"(envío o recepción)"),(0,o.Uk)(" y, lo que nos ocupa en este apartado del tema, si las acciones dependen de acciones anteriores o no.")],-1),E=(0,o._)("h3",{id:"stateless-protocols",tabindex:"-1"},"Stateless protocols",-1),k=(0,o.Uk)("En informática, un protocolo sin estado es un protocolo de comunicaciones que trata cada petición como una transacción independiente que no tiene relación con cualquier solicitud anterior, de modo que la comunicación se compone de pares independientes de solicitud y respuesta. "),U={href:"https://es.wikipedia.org/wiki/Protocolo_sin_estado",target:"_blank",rel:"noopener noreferrer"},f=(0,o.Uk)("Wikipedia: Protocolo sin estado"),v=(0,o._)("p",null,"El ejemplo más conocido de protocolo sin estado es HTTP.1​ El protocolo no proporciona medio alguno de almacenamiento de datos de un usuario entre las peticiones, dejando esta tarea a niveles superiores y haciendo necesario el reenvío de información de manera continua para simular un funcionamiento con estado (cookies, cabeceras, etc.).",-1),g=(0,o._)("h3",{id:"stateful-protocols",tabindex:"-1"},"Stateful protocols",-1),h=(0,o._)("p",null,[(0,o.Uk)("Un protocolo sin estado no requiere que el servidor retenga información de la sesión o de estado acerca de los intercambios de información durante la realización de múltiples peticiones. En contraste, un protocolo que requiere el mantenimiento del "),(0,o._)("strong",null,"estado interno en el servidor"),(0,o.Uk)(" se conoce como un "),(0,o._)("strong",null,"protocolo con estado"),(0,o.Uk)(".")],-1),q=(0,o._)("p",null,"Por lo tanto, un estado es una configuración en un programa o máquina que depende de los estados anteriores y que determina el funcionamiento del sistema, en función de la entrada recibida y del estado actual en el que se encuentre el sistema.",-1),j=(0,o._)("p",null,"Poniendo una analogía, podemos tomar una solicitud a la administración, donde debemos realizar varios pasos hasta resolver la solicitud.",-1),C=(0,o._)("ol",null,[(0,o._)("li",null,"En primer lugar se rellena una instancia con los datos y se envía al departamento correspondiente."),(0,o._)("li",null,"Ese departamento comprobará la instancia recibida y contestará solicitando información adicional o confirmando que la solicitud se ha recibido correctamente."),(0,o._)("li",null,"En un proceso posterior, se solicita un pago de tasas al usuario."),(0,o._)("li",null,"El usuario tiene que realizar el pago de tasas y enviar el justificante."),(0,o._)("li",null,"Tras cotejar toda la información, se le solicita al usuario que aporte los documentos originales."),(0,o._)("li",null,"El usuario se persona para mostrar la documentación original"),(0,o._)("li",null,"Finalmente se resuelve la solicitud informando al usuario el resultado de la misma.")],-1),S=(0,o._)("p",null,"Esto, que puede ser un procedimiento normal, refleja claramente un proceso en el que se siguen una serie de pasos y cuyo orden no se puede cambiar.",-1),F=(0,o._)("p",null,"Por ejemplo, no tendría sentido hacer el pago de las tasas (paso 4) sin antes haber presentado la solicitud (paso 1) o sin haber recibido la confirmación de que la solicitud está completa.",-1),x=(0,o._)("p",null,"Esto mismo pasa con algunos protocolos de comunicación.",-1),w=(0,o._)("h2",{id:"_4-5-2-programacion-de-servidores-basados-en-estados",tabindex:"-1"},"4.5.2 Programación de servidores basados en estados",-1),I=(0,o._)("p",null,[(0,o.Uk)("Hay toda una teoría matemática, "),(0,o._)("code",null,"la teoría de grafos"),(0,o.Uk)(", desarrollada en torno a esto, junto con un modelo computacional, "),(0,o._)("code",null,"los autómatas finitos"),(0,o.Uk)(", que estudian y optimizan el desarrollo de aplicaciones basadas en estados.")],-1),z=(0,o._)("p",null,"La teoría de grafos es una rama de las matemáticas y las ciencias de la computación que estudia las propiedades de los grafos",-1),P=(0,o._)("p",null,[(0,o.Uk)("La teoría de grafos tiene sus fundamentos en las "),(0,o._)("code",null,"matemáticas discretas"),(0,o.Uk)(" y de las "),(0,o._)("code",null,"matemáticas aplicadas"),(0,o.Uk)(". Esta teoría requiere de diferentes conceptos de diversas áreas como "),(0,o._)("strong",null,"combinatoria, álgebra, probabilidad, geometría de polígonos, aritmética y topología"),(0,o.Uk)(". Actualmente ha tenido mayor influencia en el campo de la informática, las ciencias de la computación y telecomunicaciones. Debido a la gran cantidad de aplicaciones en la optimización de recorridos, procesos, flujos y algoritmos de búsquedas, entre otros")],-1),W=(0,o._)("p",null,"Un autómata finito o máquina de estado finito es un modelo computacional que toma decisiones de computación de forma automática sobre una entrada para producir una salida.",-1),N=(0,o._)("p",null,"Este modelo está conformado por un alfabeto, un conjunto de estados finito, una función de transición, un estado inicial y un conjunto de estados finales.",-1),L=(0,o._)("p",null,"La finalidad de los autómatas finitos, entre otras, es la de reconocer lenguajes regulares, que corresponden a los lenguajes formales más simples según la Jerarquía de Chomsky.",-1),O=(0,o._)("h3",{id:"programacion-de-aplicaciones-cliente-y-o-servidor",tabindex:"-1"},"Programación de aplicaciones Cliente y/o Servidor",-1),R=(0,o._)("p",null,"Como en todos los casos que hemos estudiado con anterioridad, el protocolo es la pieza común entre los clientes y los servidores.",-1),H=(0,o._)("p",null,"Nuestros clientes podrán estar bien o mal programados, de hecho muchos de nuestros clientes son interactivos, por lo que podemos alterar el orden de los comandos a nuestro antojo, no siendo esto ningún problema.",-1),T=(0,o._)("p",null,"Debe ser el servidor el que tenga el control del proceso, el que asegure la integridad del sistema y de los datos, por lo tanto va a ser en la parte del servidor donde tengamos que realizar las modificaciones para adaptarlo al control y gestión de los estados.",-1),Y=(0,o._)("p",null,[(0,o.Uk)("Esto no quita que los clientes deban seguir "),(0,o._)("code",null,"sincronizados"),(0,o.Uk)(" con el servidor para evitar situaciones de interbloqueo, ya que de una forma u otra el cliente siempre debe seguir el protocolo, aunque no los estados tal y como hemos dicho.")],-1),M=(0,o._)("h2",{id:"_4-5-3-ejemplo-de-servidor-con-estados",tabindex:"-1"},"4.5.3. Ejemplo de servidor con estados",-1),V=(0,o._)("p",null,"Vamos a ver qué pasos debemos seguir para controlar los estados en el servidor y cómo adaptar un cliente.",-1),J=(0,o._)("p",null,[(0,o.Uk)("El ejemplo que vamos a utilizar es el de la actividad "),(0,o._)("code",null,"U4A03_ProtocoloSaludo"),(0,o.Uk)(". Primero vamos a aclarar cómo debe funcionar este protocolo.")],-1),Q=(0,o._)("p",null,"Si el cliente está bien programado, el intercambio de información entre Cliente y Servidor se realiza en tres pasos",-1),X=(0,o._)("ol",null,[(0,o._)("li",null,'Cliente envía "Hi Server!"'),(0,o._)("li",null,'Servidor responde "Hi Client!"'),(0,o._)("li",null,'Cliente responde "By Server!"')],-1),G=(0,o._)("p",null,"Ante un funcionamiento normal, este protocolo es bastante fácil de implementar. Sin embargo,",-1),K=(0,o._)("ul",null,[(0,o._)("li",null,'¿Qué pasa si el cliente envía "By Server!" como primer mensaje?'),(0,o._)("li",null,"¿Qué debe responder el servidor si no recibe el mensaje que está esperando?"),(0,o._)("li",null,"¿Qué debe hacer el cliente si no recibe el mensaje que está esperando?")],-1),Z=(0,o._)("p",null,"Estas son las circunstancias a las que debemos responder con los estados del protocolo, indicando en cada caso qué debe hacer cada una de las partes. Todo dependerá de la funcionalidad que esté implementando el protocolo.",-1),$=(0,o._)("p",null,"Cada caso es diferente, por ejemplo, si es importante hacer los tres pasos en orden, ante cualquier fallo se debe volver a empezar (un borrado en una BD, una autenticación de tres vías). Si por el contrario, los dos primeros pasos se tienen que realizar de forma conjunta, pero el tercero es independiente, si el incumplimiento del protocolo se produce en ese momento, no es necesario que se repitan los dos primeros pasos, sino que sólo será necesario repetir el último.",-1),ss=(0,o._)("p",null,[(0,o._)("img",{src:n,alt:"Diagrama de estados U4A03_ProtocoloSaludo"})],-1),ls=(0,o._)("h3",{id:"ejemplo-del-worker-que-implementa-el-protocolo",tabindex:"-1"},"Ejemplo del Worker que implementa el protocolo",-1),es=(0,o._)("div",{class:"language-java ext-java line-numbers-mode"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"class"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"U4A03_SaludoWorker"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"extends"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"Thread"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"Socket"),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"BufferedReader"),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"PrintWriter"),(0,o._)("span",{style:{color:"#90A4AE"}}," salida"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"private"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"final"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," messages "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Client!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Bye Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Error. Unknown or unexpected command"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},"};")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"enum"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"Estados"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        HI"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," BYE"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"Estados"),(0,o._)("span",{style:{color:"#90A4AE"}}," estado"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#6182B8"}},"U4A03_SaludoWorker"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"Socket"),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"this."),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Inicializamos el valor del estado al estado inicial")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"HI"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"@"),(0,o._)("span",{style:{color:"#9C3EDA"}},"Override")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"void"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"run"),(0,o._)("span",{style:{color:"#39ADB5"}},"()"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"try"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Establece canal de entrada")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            entrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"BufferedReader"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"InputStreamReader"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"()));")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Obtenemos el canal de salida")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"PrintWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"BufferedWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"OutputStreamWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"())),"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"true);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe lo que envía el cliente hasta que el mensaje sea")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// END OF TRANSMISSION")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"while"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"!="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe la solicitud del cliente por el InputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#90A4AE"}}," str "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Comprobamos si se ha cerrado el extremo cliente del socket")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Y damos por concluida la comunicación.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str "),(0,o._)("span",{style:{color:"#39ADB5"}},"=="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null)"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Mostramos la información recibida por consola")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"CLIENTE > "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," str"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Controlamos la respuesta en función del mensaje recibido y ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el estado actual")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"switch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"estado"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," HI"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"0"),(0,o._)("span",{style:{color:"#39ADB5"}},"]."),(0,o._)("span",{style:{color:"#6182B8"}},"equals"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str"),(0,o._)("span",{style:{color:"#39ADB5"}},"))"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos respuesta al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"1"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Cambiamos el estado del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"BYE"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos error al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"3"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," BYE"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"2"),(0,o._)("span",{style:{color:"#39ADB5"}},"]."),(0,o._)("span",{style:{color:"#6182B8"}},"equals"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str"),(0,o._)("span",{style:{color:"#39ADB5"}},"))"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Cambiamos el estado del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos error al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"3"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"HI"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," END"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// No sería necesario contemplarlo en este caso")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Pero sí en otros en los que se tenga que enviar ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// algún mensaje antes de salir.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"catch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," e"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Error de comunicación con el cliente"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"catch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"Exception"),(0,o._)("span",{style:{color:"#90A4AE"}}," e"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"e"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getLocalizedMessage"),(0,o._)("span",{style:{color:"#39ADB5"}},"());")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            e"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"printStackTrace"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"finally"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"try"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Conexión cerrada: "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"catch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," e"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Error inesperado cerrando los recursos"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")]),(0,o._)("div",{class:"line-numbers"},[(0,o._)("span",{class:"line-number"},"1"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"2"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"3"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"4"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"5"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"6"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"7"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"8"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"9"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"10"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"11"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"12"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"13"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"14"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"15"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"16"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"17"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"18"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"19"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"20"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"21"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"22"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"23"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"24"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"25"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"26"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"27"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"28"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"29"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"30"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"31"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"32"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"33"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"34"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"35"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"36"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"37"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"38"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"39"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"40"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"41"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"42"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"43"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"44"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"45"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"46"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"47"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"48"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"49"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"50"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"51"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"52"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"53"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"54"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"55"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"56"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"57"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"58"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"59"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"60"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"61"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"62"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"63"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"64"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"65"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"66"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"67"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"68"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"69"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"70"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"71"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"72"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"73"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"74"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"75"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"76"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"77"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"78"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"79"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"80"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"81"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"82"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"83"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"84"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"85"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"86"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"87"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"88"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"89"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"90"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"91"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"92"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"93"),(0,o._)("br")])],-1),os=(0,o._)("p",null,"El código corresponde al worker de un servidor multihilo. Analicemos ahora el código por partes",-1),ns=(0,o._)("p",null,[(0,o.Uk)("Es recomendable usar propiedades para guardar los mensajes que queramos comparar y tener un ENuM para definir los estados. Los "),(0,o._)("code",null,"enum"),(0,o.Uk)(" en Java permiten ser usados en los bloques switch-case.")],-1),as=(0,o._)("p",null,[(0,o.Uk)("La propiedad "),(0,o._)("strong",null,"estado"),(0,o.Uk)(" va a ser el punto central que controle el flujo de ejecución del servidor.")],-1),rs=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"private"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"final"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," messages "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Client!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Bye Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Error. Unknown or unexpected command"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},"};")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"enum"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"Estados"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        HI"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," BYE"),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"Estados"),(0,o._)("span",{style:{color:"#90A4AE"}}," estado"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," ")])],-1),ts=(0,o._)("p",null,"En el constructor, además de todas las propiedades, inicializamos el estado, asignándole el valor del estado inicial.",-1),cs=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#6182B8"}},"U4A03_SaludoWorker"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"Socket"),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"this."),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Inicializamos el valor del estado al estado inicial")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"HI"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br")])],-1),_s=(0,o._)("p",null,"El servidor estará ejecutándose hasta que se alcance el estado final",-1),ps=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe lo que envía el cliente hasta que el mensaje sea")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// END OF TRANSMISSION")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"while"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"!="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])])],-1),is=(0,o._)("p",null,"En este ejemplo, el intercambio de información con el cliente se hace uno a uno, es decir se recibe un mensaje y se envía una respuesta, pero no tiene porqué ser así, se pueden recibir varios mensajes y no enviar respuesta, o cualquier combinación de envío respuesta que nos imaginemos.",-1),As=(0,o._)("p",null,"El código que sigue e un control para saber si el cliente ha cerrado el socket, así evitamos tener excepciones de tipo NullPointerException o dejar al servidor en un bucle infinito. Forzamos la salida cambiando el estado del protocolo.",-1),ys=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Comprobamos si se ha cerrado el extremo cliente del socket")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Y damos por concluida la comunicación.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str "),(0,o._)("span",{style:{color:"#39ADB5"}},"=="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null)"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Mostramos la información recibida por consola")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"CLIENTE > "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," str"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")])],-1),us=(0,o._)("p",null,"Este es el código que implementa el diagrama de estados que he diseñado para esta actividad. Fijaos que el servidor tiene que realizar una comprobación para cada línea que sale de un estado. En este caso al ser sólo dos líneas, sirve con un if-else, pero puede ser un número mayor de opciones.",-1),ds=(0,o._)("p",null,[(0,o.Uk)("Además, una de las opciones tiene un comportamiento totalmente diferente al resto, ya que "),(0,o._)("strong",null,"cuando se recibe el mensaje final, el protocolo no dice que enviemos una respuesta al cliente"),(0,o.Uk)(".")],-1),bs=(0,o._)("p",null,[(0,o.Uk)("Esto "),(0,o._)("code",null,"debemos controlarlo en el cliente"),(0,o.Uk)(", porque si lo programamos de forma que envíe un mensaje y espere una respuesta, puede quedarse bloqueado en la lectura. Aprovechando que este es el último mensaje, más adelante veremos cómo se ha solventado en el cliente.y las opciones que tenemos para evitar posibles bloqueos como este.")],-1),ms=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Controlamos la respuesta en función del mensaje recibido y ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el estado actual")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"switch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"estado"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," HI"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"0"),(0,o._)("span",{style:{color:"#39ADB5"}},"]."),(0,o._)("span",{style:{color:"#6182B8"}},"equals"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str"),(0,o._)("span",{style:{color:"#39ADB5"}},"))"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos respuesta al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"1"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Cambiamos el estado del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"BYE"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos error al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"3"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," BYE"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"2"),(0,o._)("span",{style:{color:"#39ADB5"}},"]."),(0,o._)("span",{style:{color:"#6182B8"}},"equals"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"str"),(0,o._)("span",{style:{color:"#39ADB5"}},"))"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Cambiamos el estado del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"END"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Enviamos error al cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"3"),(0,o._)("span",{style:{color:"#39ADB5"}},"]);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            estado "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," Estados"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"HI"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"case"),(0,o._)("span",{style:{color:"#90A4AE"}}," END"),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},":")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// No sería necesario contemplarlo en este caso")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Pero sí en otros en los que se tenga que enviar ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// algún mensaje antes de salir.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")])],-1),Bs=(0,o._)("h2",{id:"_4-5-4-ejemplo-de-cliente-con-estados",tabindex:"-1"},"4.5.4. Ejemplo de cliente con estados",-1),Ds=(0,o._)("p",null,"Aunque un cliente interactivo como los que usamos para las pruebas no deberían cambiar su funcionalidad, sí hay que hacer pequeños ajustes para adaptar su funcionamiento a las posibles respuestas y errores que envía el servidor.",-1),Es=(0,o._)("p",null,[(0,o._)("img",{src:a,alt:"Diagrama de estados U4A03_ProtocoloSaludo"})],-1),ks=(0,o._)("p",null,"Como ya hemos dicho en el código del servidor, si implementamos el protocolo como un cliente de envío-respuesta, hay un caso en el que no debemos esperar una respuesta. Este es el caso de la salida, en la que se envía un mensaje pero no esperamos respuesta por parte del servidor.",-1),Us=(0,o._)("p",null,"Se puede pensar en poner una condición de salida para cuando el cliente envía el último mensaje, pero no podemos asegurar que ese mensaje cerrará la comunicación, porque dependerá del estado en el que se encuentre el servidor.",-1),fs=(0,o._)("h3",{id:"ejemplo-de-cliente-generico-que-implementa-el-protocolo",tabindex:"-1"},'Ejemplo de cliente "genérico" que implementa el protocolo',-1),vs=(0,o._)("div",{class:"language-java ext-java line-numbers-mode"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"class"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#E2931D"}},"U4A03_SaludoClient"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"private"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"static"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"final"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," messages "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Hi Client!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Bye Server!"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},","),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"Error. Unknown or unexpected command"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},"};")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#9C3EDA"}},"public"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"static"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"void"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"main"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#39ADB5"}},"[]"),(0,o._)("span",{style:{color:"#90A4AE"}}," args"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"throws"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"Socket"),(0,o._)("span",{style:{color:"#90A4AE"}}," socketCliente "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"BufferedReader"),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"PrintWriter"),(0,o._)("span",{style:{color:"#90A4AE"}}," salida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null;")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Creamos un socket en el lado cliente, enlazado con un")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// servidor que está en la misma máquina que el cliente")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// y que escucha en el puerto 4444")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"try"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            socketCliente "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"Socket"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"args"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"0"),(0,o._)("span",{style:{color:"#39ADB5"}},"],"),(0,o._)("span",{style:{color:"#90A4AE"}}," Integer"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"parseInt"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"args"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"1"),(0,o._)("span",{style:{color:"#39ADB5"}},"]));")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Establece canal de entrada")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            entrada "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"BufferedReader"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"InputStreamReader"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getInputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"()));")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Obtenemos el canal de salida")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"PrintWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"BufferedWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"(")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"OutputStreamWriter"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"getOutputStream"),(0,o._)("span",{style:{color:"#39ADB5"}},"())),"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"true);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"catch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"IOException"),(0,o._)("span",{style:{color:"#90A4AE"}}," e"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"err"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"No puede establecer canales de E/S para la conexión"),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"exit"),(0,o._)("span",{style:{color:"#39ADB5"}},"(-"),(0,o._)("span",{style:{color:"#F76D47"}},"1"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"Scanner"),(0,o._)("span",{style:{color:"#90A4AE"}}," stdIn "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"new"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#6182B8"}},"Scanner"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"in"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#9C3EDA"}},"String"),(0,o._)("span",{style:{color:"#90A4AE"}}," linea"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// El programa cliente no analiza los mensajes enviados por el")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// usuario, simplemente los reenvía al servidor hasta que se envía ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el mensaje final del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"do"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Leo la entrada del usuario")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," stdIn"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"nextLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// La envia al servidor por el OutputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"linea"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe la respuesta del servidor por el InputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"=="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null)"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Comprobamos si se ha cerrado el extremo servidor del socket")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Y damos por concluida la comunicación.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Envía a la salida estándar la respuesta del servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"SERVIDOR > "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," linea"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"while"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"(true);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Libera recursos")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        stdIn"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"close"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")]),(0,o._)("div",{class:"line-numbers"},[(0,o._)("span",{class:"line-number"},"1"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"2"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"3"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"4"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"5"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"6"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"7"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"8"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"9"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"10"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"11"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"12"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"13"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"14"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"15"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"16"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"17"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"18"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"19"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"20"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"21"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"22"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"23"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"24"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"25"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"26"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"27"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"28"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"29"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"30"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"31"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"32"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"33"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"34"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"35"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"36"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"37"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"38"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"39"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"40"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"41"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"42"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"43"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"44"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"45"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"46"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"47"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"48"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"49"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"50"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"51"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"52"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"53"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"54"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"55"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"56"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"57"),(0,o._)("br")])],-1),gs=(0,o._)("p",null,"El código corresponde a un cliente interactivo genérico, que va enviando mensajes y esperando la respuesta de los mismos sin hacer ningún tipo de control sobre lo que se envía o lo que recibe.",-1),hs=(0,o._)("p",null,"Analicemos algunos aspectos del código del cliente",-1),qs=(0,o._)("p",null,"La parte que sigue es equivalente a la que hemos usado en el servidor. No modificamos el flujo envío-recepción, pero sí que comprobamos si el lado del servidor ha cerrado el socket (ha realizado todo el protocolo correctamente) para decidir que el cliente finalice su ejecución.",-1),js=(0,o._)("div",{class:"language-java ext-java"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe la respuesta del servidor por el InputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"=="),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"null)"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Comprobamos si se ha cerrado el extremo servidor del socket")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Y damos por concluida la comunicación.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"    "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Envía a la salida estándar la respuesta del servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"    System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"SERVIDOR > "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," linea"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"} "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"while"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"(true);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"highlight-lines"},[(0,o._)("br"),(0,o._)("br"),(0,o._)("div",{class:"highlight-line"}," "),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br"),(0,o._)("br")])],-1),Cs=(0,o._)("div",{class:"custom-container warning"},[(0,o._)("p",{class:"custom-container-title"},"Lectura con timeout"),(0,o._)("p",null,"Otra manera distinta de hacer lo mismo es usando lecturas con timeout."),(0,o._)("p",null,"En este ejemplo podríamos haber comprobado si el mensaje enviado es el mensaje de finalización. Es ese caso, si todo ha ido bien, no deberíamos esperar una respuesta por parte del server, pero si ha habido algún error, sí debemos realizar una lectura del socket."),(0,o._)("p",null,"Usando este código"),(0,o._)("div",{class:"language-java ext-java line-numbers-mode"},[(0,o._)("pre",{class:"shiki",style:{"background-color":"#FAFAFA"}},[(0,o._)("code",null,[(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// El programa cliente no analiza los mensajes enviados por el")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// usuario, simplemente los reenvía al servidor hasta que se envía ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"        "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// el mensaje final del protocolo")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"do"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Leo la entrada del usuario")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," stdIn"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"nextLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// La envia al servidor por el OutputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            salida"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"linea"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"            "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Si enviamos el mensaje de salida, no hacemos una lectura indefinida")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"if"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"linea"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"equals"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#90A4AE"}},"messages"),(0,o._)("span",{style:{color:"#39ADB5"}},"["),(0,o._)("span",{style:{color:"#F76D47"}},"2"),(0,o._)("span",{style:{color:"#39ADB5"}},"]))"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"setSoTimeout"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#F76D47"}},"100"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"else"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                socketCliente"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"setSoTimeout"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#F76D47"}},"0"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"}),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"try"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{"),(0,o._)("span",{style:{color:"#90A4AE"}}," ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Recibe la respuesta del servidor por el InputStream")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                linea "),(0,o._)("span",{style:{color:"#39ADB5"}},"="),(0,o._)("span",{style:{color:"#90A4AE"}}," entrada"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"readLine"),(0,o._)("span",{style:{color:"#39ADB5"}},"();")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Envía a la salida estándar la respuesta del servidor")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                System"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#90A4AE"}},"out"),(0,o._)("span",{style:{color:"#39ADB5"}},"."),(0,o._)("span",{style:{color:"#6182B8"}},"println"),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#91B859"}},"SERVIDOR > "),(0,o._)("span",{style:{color:"#39ADB5"}},'"'),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"+"),(0,o._)("span",{style:{color:"#90A4AE"}}," linea"),(0,o._)("span",{style:{color:"#39ADB5"}},");")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"catch"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"("),(0,o._)("span",{style:{color:"#9C3EDA"}},"SocketTimeoutException"),(0,o._)("span",{style:{color:"#90A4AE"}}," ste"),(0,o._)("span",{style:{color:"#39ADB5"}},")"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"{")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Pasado el timeout no se ha recibido una respuesta")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Podemos suponer que el server no envía respuesta")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Eso indica que el protocolo se ha completado")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#39ADB5"}},"                "),(0,o._)("span",{style:{color:"#90A4AE","font-style":"italic"}},"// Damos por concluida la comunicación.")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"                "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"break"),(0,o._)("span",{style:{color:"#39ADB5"}},";")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"            "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}},"            ")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"},[(0,o._)("span",{style:{color:"#90A4AE"}},"        "),(0,o._)("span",{style:{color:"#39ADB5"}},"}"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5","font-style":"italic"}},"while"),(0,o._)("span",{style:{color:"#90A4AE"}}," "),(0,o._)("span",{style:{color:"#39ADB5"}},"(true);")]),(0,o.Uk)("\n"),(0,o._)("span",{class:"line"})])]),(0,o._)("div",{class:"line-numbers"},[(0,o._)("span",{class:"line-number"},"1"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"2"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"3"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"4"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"5"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"6"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"7"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"8"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"9"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"10"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"11"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"12"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"13"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"14"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"15"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"16"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"17"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"18"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"19"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"20"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"21"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"22"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"23"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"24"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"25"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"26"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"27"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"28"),(0,o._)("br"),(0,o._)("span",{class:"line-number"},"29"),(0,o._)("br")])]),(0,o._)("p",null,[(0,o.Uk)("fijamos un tiempo de espera pasado el cual se producirá una "),(0,o._)("code",null,"SocketTimeoutException"),(0,o.Uk)(" indicando que no se ha leído nada del socket. Si por el contrario se lee información del socket, esta se muestra por la consola.")]),(0,o._)("p",null,[(0,o.Uk)("En este caso en concreto, esta solución no funciona porque el servidor ya ha cerrado el socket. Esto sería útil cuando tengamos que hacer una "),(0,o._)("code",null,"lectura opcional"),(0,o.Uk)(" en mitad de un protocolo, y serviría tanto para un cliente como para un servidor.")])],-1),Ss={render:function(s,l){const e=(0,o.up)("DownloadPDF-component"),n=(0,o.up)("DocumentCover-component"),a=(0,o.up)("RouterLink"),Ss=(0,o.up)("OutboundLink");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(e),(0,o.Wm)(n,{titulo:"4.5 Stateful protocols"}),r,(0,o._)("nav",t,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(a,{to:"#_4-5-1-stateful-and-stateless-protocols"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(a,{to:"#stateless-protocols"},{default:(0,o.w5)((()=>[_])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(a,{to:"#stateful-protocols"},{default:(0,o.w5)((()=>[p])),_:1})])])]),(0,o._)("li",null,[(0,o.Wm)(a,{to:"#_4-5-2-programacion-de-servidores-basados-en-estados"},{default:(0,o.w5)((()=>[i])),_:1}),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(a,{to:"#programacion-de-aplicaciones-cliente-y-o-servidor"},{default:(0,o.w5)((()=>[A])),_:1})])])]),(0,o._)("li",null,[(0,o.Wm)(a,{to:"#_4-5-3-ejemplo-de-servidor-con-estados"},{default:(0,o.w5)((()=>[y])),_:1}),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(a,{to:"#ejemplo-del-worker-que-implementa-el-protocolo"},{default:(0,o.w5)((()=>[u])),_:1})])])]),(0,o._)("li",null,[(0,o.Wm)(a,{to:"#_4-5-4-ejemplo-de-cliente-con-estados"},{default:(0,o.w5)((()=>[d])),_:1}),(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(a,{to:"#ejemplo-de-cliente-generico-que-implementa-el-protocolo"},{default:(0,o.w5)((()=>[b])),_:1})])])])])]),m,B,D,E,(0,o._)("p",null,[k,(0,o._)("a",U,[f,(0,o.Wm)(Ss)])]),v,g,h,q,j,C,S,F,x,w,I,z,P,W,N,L,O,R,H,T,Y,M,V,J,Q,X,G,K,Z,$,ss,ls,es,os,ns,as,rs,ts,cs,_s,ps,is,As,ys,us,ds,bs,ms,Bs,Ds,Es,ks,Us,fs,vs,gs,hs,qs,js,Cs],64)}}},5206:(s,l,e)=>{s.exports=e.p+"assets/img/client_sample_state_protocol.5eae34c9.png"},7979:(s,l,e)=>{s.exports=e.p+"assets/img/sample_state_protocol.3f4fead8.png"}}]);